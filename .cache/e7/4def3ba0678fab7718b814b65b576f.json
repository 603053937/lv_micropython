{"id":"cVSS","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608846679099},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608846679095},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608846860992},{"name":"../core/position.js","loc":{"line":5,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../core/range.js","loc":{"line":6,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../model/textModel.js","loc":{"line":7,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"},{"name":"../view/viewEvents.js","loc":{"line":8,"column":28},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/view/viewEvents.js"},{"name":"./prefixSumComputer.js","loc":{"line":9,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/prefixSumComputer.js"},{"name":"./viewModel.js","loc":{"line":10,"column":29},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/splitLinesCollection.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModel.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.IdentityLinesCollection=exports.IdentityCoordinatesConverter=exports.SplitLine=exports.SplitLinesCollection=exports.CoordinatesConverter=exports.OutputPosition=void 0;var e=require(\"../core/position.js\"),t=require(\"../core/range.js\"),i=require(\"../model/textModel.js\"),n=u(require(\"../view/viewEvents.js\")),o=require(\"./prefixSumComputer.js\"),r=require(\"./viewModel.js\");function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=n?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(i,o,r):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}var l=function(){return function(e,t){this.outputLineIndex=e,this.outputOffset=t}}();exports.OutputPosition=l;var a=function(){function e(e){this._lines=e}return e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewRangeToModelRange=function(e){var i=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new t.Range(i.lineNumber,i.column,n.lineNumber,n.column)},e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},e.prototype.validateViewRange=function(e,i){var n=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,i.getStartPosition()),o=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,i.getEndPosition());return new t.Range(n.lineNumber,n.column,o.lineNumber,o.column)},e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},e.prototype.convertModelRangeToViewRange=function(e){return this._lines.convertModelRangeToViewRange(e)},e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},e}();exports.CoordinatesConverter=a;var p=function(){function r(e,t,i,n,o,r){this.model=e,this._validModelVersionId=-1,this.tabSize=i,this.wrappingColumn=n,this.columnsForFullWidthChar=o,this.wrappingIndent=r,this.linePositionMapperFactory=t,this._constructLines(!0)}return r.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},r.prototype.createCoordinatesConverter=function(){return new a(this)},r.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error(\"ViewModel is out of sync with Model!\");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},r.prototype._constructLines=function(e){var i=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var n=this.model.getLinesContent(),r=n.length,s=new Uint32Array(r),u=this.hiddenAreasIds.map(function(e){return i.model.getDecorationRange(e)}).sort(t.Range.compareRangesUsingStarts),l=1,a=0,p=-1,d=p+1<u.length?a+1:r+2,h=0;h<r;h++){var m=h+1;m===d&&(l=u[++p].startLineNumber,a=u[p].endLineNumber,d=p+1<u.length?a+1:r+2);var c=m>=l&&m<=a,f=g(this.linePositionMapperFactory,n[h],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!c);s[h]=f.getViewLineCount(),this.lines[h]=f}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new o.PrefixSumComputerWithCache(s)},r.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},r.prototype._reduceRanges=function(e){var i=this;if(0===e.length)return[];for(var n=e.map(function(e){return i.model.validateRange(e)}).sort(t.Range.compareRangesUsingStarts),o=[],r=n[0].startLineNumber,s=n[0].endLineNumber,u=1,l=n.length;u<l;u++){var a=n[u];a.startLineNumber>s+1?(o.push(new t.Range(r,1,s,1)),r=a.startLineNumber,s=a.endLineNumber):a.endLineNumber>s&&(s=a.endLineNumber)}return o.push(new t.Range(r,1,s,1)),o},r.prototype.setHiddenAreas=function(e){var n=this,o=this._reduceRanges(e),r=this.hiddenAreasIds.map(function(e){return n.model.getDecorationRange(e)}).sort(t.Range.compareRangesUsingStarts);if(o.length===r.length){for(var s=!1,u=0;u<o.length;u++)if(!o[u].equalsRange(r[u])){s=!0;break}if(!s)return!1}for(var l=[],a=0,p=o;a<p.length;a++){var d=p[a];l.push({range:d,options:i.ModelDecorationOptions.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,l);var h=o,m=1,g=0,c=-1,f=c+1<h.length?g+1:this.lines.length+2,w=!1;for(u=0;u<this.lines.length;u++){var V=u+1;V===f&&(m=h[++c].startLineNumber,g=h[c].endLineNumber,f=c+1<h.length?g+1:this.lines.length+2);var L=!1;if(V>=m&&V<=g?this.lines[u].isVisible()&&(this.lines[u]=this.lines[u].setVisible(!1),L=!0):(w=!0,this.lines[u].isVisible()||(this.lines[u]=this.lines[u].setVisible(!0),L=!0)),L){var v=this.lines[u].getViewLineCount();this.prefixSumComputer.changeValue(u,v)}}return w||this.setHiddenAreas([]),!0},r.prototype.modelPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},r.prototype.setTabSize=function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),!0)},r.prototype.setWrappingSettings=function(e,t,i){return(this.wrappingIndent!==e||this.wrappingColumn!==t||this.columnsForFullWidthChar!==i)&&(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=i,this._constructLines(!1),!0)},r.prototype.onModelFlushed=function(){this._constructLines(!0)},r.prototype.onModelLinesDeleted=function(e,t,i){if(e<=this._validModelVersionId)return null;var o=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new n.ViewLinesDeletedEvent(o,r)},r.prototype.onModelLinesInserted=function(t,i,o,r){if(t<=this._validModelVersionId)return null;for(var s=this.getHiddenAreas(),u=!1,l=new e.Position(i,1),a=0,p=s;a<p.length;a++){if(p[a].containsPosition(l)){u=!0;break}}for(var d=1===i?1:this.prefixSumComputer.getAccumulatedValue(i-2)+1,h=0,m=[],c=new Uint32Array(r.length),f=0,w=r.length;f<w;f++){var V=g(this.linePositionMapperFactory,r[f],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!u);m.push(V);var L=V.getViewLineCount();h+=L,c[f]=L}return this.lines=this.lines.slice(0,i-1).concat(m).concat(this.lines.slice(i-1)),this.prefixSumComputer.insertValues(i-1,c),new n.ViewLinesInsertedEvent(d,d+h-1)},r.prototype.onModelLineChanged=function(e,t,i){if(e<=this._validModelVersionId)return[!1,null,null,null];var o=t-1,r=this.lines[o].getViewLineCount(),s=this.lines[o].isVisible(),u=g(this.linePositionMapperFactory,i,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,s);this.lines[o]=u;var l=this.lines[o].getViewLineCount(),a=!1,p=0,d=-1,h=0,m=-1,c=0,f=-1;return r>l?(f=(c=(d=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+l-1)+1)+(r-l)-1,a=!0):r<l?(m=(h=(d=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+r-1)+1)+(l-r)-1,a=!0):d=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+l-1,this.prefixSumComputer.changeValue(o,l),[a,p<=d?new n.ViewLinesChangedEvent(p,d):null,h<=m?new n.ViewLinesInsertedEvent(h,m):null,c<=f?new n.ViewLinesDeletedEvent(c,f):null]},r.prototype.acceptVersionId=function(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])},r.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},r.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},r.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},r.prototype.getActiveIndentGuide=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);var n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),u=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}},r.prototype.getViewLinesIndentGuides=function(t,i){this._ensureValidState(),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);for(var n=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMaxColumn(i)),r=[],s=[],u=[],l=n.lineNumber-1,a=o.lineNumber-1,p=null,d=l;d<=a;d++){var h=this.lines[d];if(h.isVisible()){var m=h.getViewLineNumberOfModelPosition(0,d===l?n.column:1),g=h.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(d+1)),c=0;(C=g-m+1)>1&&1===h.getViewLineMinColumn(this.model,d+1,g)&&(c=0===m?1:2),s.push(C),u.push(c),null===p&&(p=new e.Position(d+1,0))}else null!==p&&(r=r.concat(this.model.getLinesIndentGuides(p.lineNumber,d)),p=null)}null!==p&&(r=r.concat(this.model.getLinesIndentGuides(p.lineNumber,o.lineNumber)),p=null);for(var f=i-t+1,w=new Array(f),V=0,L=0,v=r.length;L<v;L++){var b=r[L],C=Math.min(f-V,s[L]),y=void 0;y=2===(c=u[L])?0:1===c?1:C;for(var N=0;N<C;N++)N===y&&(b=0),w[V++]=b}return w},r.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)},r.prototype.getViewLineLength=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)},r.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)},r.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)},r.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)},r.prototype.getViewLinesData=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var n=this.prefixSumComputer.getIndexOf(e-1),o=e,r=n.index,s=n.remainder,u=[],l=r,a=this.model.getLineCount();l<a;l++){var p=this.lines[l];if(p.isVisible()){var d=l===r?s:0,h=p.getViewLineCount()-d,m=!1;o+h>t&&(m=!0,h=t-o+1);var g=d+h;if(p.getViewLinesData(this.model,l+1,d,g,o-e,i,u),o+=h,m)break}}return u},r.prototype.validateViewPosition=function(t,i,n){this._ensureValidState(),t=this._toValidViewLineNumber(t);var o=this.prefixSumComputer.getIndexOf(t-1),r=o.index,s=o.remainder,u=this.lines[r],l=u.getViewLineMinColumn(this.model,r+1,s),a=u.getViewLineMaxColumn(this.model,r+1,s);i<l&&(i=l),i>a&&(i=a);var p=u.getModelColumnOfViewPosition(s,i);return this.model.validatePosition(new e.Position(r+1,p)).equals(n)?new e.Position(t,i):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},r.prototype.convertViewPositionToModelPosition=function(t,i){this._ensureValidState(),t=this._toValidViewLineNumber(t);var n=this.prefixSumComputer.getIndexOf(t-1),o=n.index,r=n.remainder,s=this.lines[o].getModelColumnOfViewPosition(r,i);return this.model.validatePosition(new e.Position(o+1,s))},r.prototype.convertModelPositionToViewPosition=function(t,i){this._ensureValidState();for(var n=this.model.validatePosition(new e.Position(t,i)),o=n.lineNumber,r=n.column,s=o-1,u=!1;s>0&&!this.lines[s].isVisible();)s--,u=!0;if(0===s&&!this.lines[s].isVisible())return new e.Position(1,1);var l=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));return u?this.lines[s].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(s+1)):this.lines[o-1].getViewPositionOfModelPosition(l,r)},r.prototype.convertModelRangeToViewRange=function(e){var i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&i.lineNumber!==n.lineNumber&&n.column===this.getViewLineMinColumn(n.lineNumber)?new t.Range(i.lineNumber,i.column,n.lineNumber-1,this.getViewLineMaxColumn(n.lineNumber-1)):new t.Range(i.lineNumber,i.column,n.lineNumber,n.column)},r.prototype._getViewLineNumberForModelPosition=function(e,t){var i=e-1;if(this.lines[i].isVisible()){var n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;var o=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(i+1))},r.prototype.getAllOverviewRulerDecorations=function(e,t,i){for(var n=this.model.getOverviewRulerDecorations(e,t),o=new w,r=0,s=n;r<s.length;r++){var u=s[r],l=u.options.overviewRuler,a=l?l.position:0;if(0!==a){var p=l.getColor(i),d=this._getViewLineNumberForModelPosition(u.range.startLineNumber,u.range.startColumn),h=this._getViewLineNumberForModelPosition(u.range.endLineNumber,u.range.endColumn);o.accept(p,d,h,a)}}return o.result},r.prototype.getDecorationsInRange=function(i,n,o){var r=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),s=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(s.lineNumber-r.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new t.Range(r.lineNumber,1,s.lineNumber,s.column),n,o);for(var u=[],l=r.lineNumber-1,a=s.lineNumber-1,p=null,d=l;d<=a;d++){if(this.lines[d].isVisible())null===p&&(p=new e.Position(d+1,d===l?r.column:1));else if(null!==p){var h=this.model.getLineMaxColumn(d);u=u.concat(this.model.getDecorationsInRange(new t.Range(p.lineNumber,p.column,d,h),n,o)),p=null}}null!==p&&(u=u.concat(this.model.getDecorationsInRange(new t.Range(p.lineNumber,p.column,s.lineNumber,s.column),n,o)),p=null),u.sort(function(e,i){var n=t.Range.compareRangesUsingStarts(e.range,i.range);return 0===n?e.id<i.id?-1:e.id>i.id?1:0:n});for(var m=[],g=0,c=null,f=0,w=u;f<w.length;f++){var V=w[f],L=V.id;c!==L&&(c=L,m[g++]=V)}return m},r}();exports.SplitLinesCollection=p;var d=function(){function t(){}return t.prototype.isVisible=function(){return!0},t.prototype.setVisible=function(e){return e?this:h.INSTANCE},t.prototype.getViewLineCount=function(){return 1},t.prototype.getViewLineContent=function(e,t,i){return e.getLineContent(t)},t.prototype.getViewLineLength=function(e,t,i){return e.getLineLength(t)},t.prototype.getViewLineMinColumn=function(e,t,i){return e.getLineMinColumn(t)},t.prototype.getViewLineMaxColumn=function(e,t,i){return e.getLineMaxColumn(t)},t.prototype.getViewLineData=function(e,t,i){var n=e.getLineTokens(t),o=n.getLineContent();return new r.ViewLineData(o,!1,1,o.length+1,n.inflate())},t.prototype.getViewLinesData=function(e,t,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null},t.prototype.getModelColumnOfViewPosition=function(e,t){return t},t.prototype.getViewPositionOfModelPosition=function(t,i){return new e.Position(t,i)},t.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},t.INSTANCE=new t,t}(),h=function(){function e(){}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(e){return e?d.INSTANCE:this},e.prototype.getViewLineCount=function(){return 0},e.prototype.getViewLineContent=function(e,t,i){throw new Error(\"Not supported\")},e.prototype.getViewLineLength=function(e,t,i){throw new Error(\"Not supported\")},e.prototype.getViewLineMinColumn=function(e,t,i){throw new Error(\"Not supported\")},e.prototype.getViewLineMaxColumn=function(e,t,i){throw new Error(\"Not supported\")},e.prototype.getViewLineData=function(e,t,i){throw new Error(\"Not supported\")},e.prototype.getViewLinesData=function(e,t,i,n,o,r,s){throw new Error(\"Not supported\")},e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error(\"Not supported\")},e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error(\"Not supported\")},e.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error(\"Not supported\")},e.INSTANCE=new e,e}(),m=function(){function t(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return t.prototype.isVisible=function(){return this._isVisible},t.prototype.setVisible=function(e){return this._isVisible=e,this},t.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},t.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},t.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,i){return i+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(i+1,0)},t.prototype.getViewLineContent=function(e,t,i){if(!this._isVisible)throw new Error(\"Not supported\");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=this.wrappedIndent+r),r},t.prototype.getViewLineLength=function(e,t,i){if(!this._isVisible)throw new Error(\"Not supported\");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i)-n;return i>0&&(o=this.wrappedIndent.length+o),o},t.prototype.getViewLineMinColumn=function(e,t,i){if(!this._isVisible)throw new Error(\"Not supported\");return i>0?this.wrappedIndentLength+1:1},t.prototype.getViewLineMaxColumn=function(e,t,i){if(!this._isVisible)throw new Error(\"Not supported\");return this.getViewLineContent(e,t,i).length+1},t.prototype.getViewLineData=function(e,t,i){if(!this._isVisible)throw new Error(\"Not supported\");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});i>0&&(s=this.wrappedIndent+s);var u=i>0?this.wrappedIndentLength+1:1,l=s.length+1,a=i+1<this.getViewLineCount(),p=0;i>0&&(p=this.wrappedIndentLength);var d=e.getLineTokens(t);return new r.ViewLineData(s,a,u,l,d.sliceAndInflate(n,o,p))},t.prototype.getViewLinesData=function(e,t,i,n,o,r,s){if(!this._isVisible)throw new Error(\"Not supported\");for(var u=i;u<n;u++){var l=o+u-i;r[l]?s[l]=this.getViewLineData(e,t,u):s[l]=null}},t.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error(\"Not supported\");var i=t-1;return e>0&&(i<this.wrappedIndentLength?i=0:i-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,i)+1},t.prototype.getViewPositionOfModelPosition=function(t,i){if(!this._isVisible)throw new Error(\"Not supported\");var n=this.positionMapper.getOutputPositionOfInputOffset(i-1),o=n.outputLineIndex,r=n.outputOffset+1;return o>0&&(r+=this.wrappedIndentLength),new e.Position(t+o,r)},t.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error(\"Not supported\");return e+this.positionMapper.getOutputPositionOfInputOffset(t-1).outputLineIndex},t}();function g(e,t,i,n,o,r,s){var u=e.createLineMapping(t,i,n,o,r);return null===u?s?d.INSTANCE:h.INSTANCE:new m(u,s)}exports.SplitLine=m;var c=function(){function e(e){this._lines=e}return e.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},e.prototype._validRange=function(e){return this._lines.model.validateRange(e)},e.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},e.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},e.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},e.prototype.validateViewRange=function(e,t){return this._validRange(t)},e.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},e.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},e}();exports.IdentityCoordinatesConverter=c;var f=function(){function e(e){this.model=e}return e.prototype.dispose=function(){},e.prototype.createCoordinatesConverter=function(){return new c(this)},e.prototype.getHiddenAreas=function(){return[]},e.prototype.setHiddenAreas=function(e){return!1},e.prototype.setTabSize=function(e){return!1},e.prototype.setWrappingSettings=function(e,t,i){return!1},e.prototype.onModelFlushed=function(){},e.prototype.onModelLinesDeleted=function(e,t,i){return new n.ViewLinesDeletedEvent(t,i)},e.prototype.onModelLinesInserted=function(e,t,i,o){return new n.ViewLinesInsertedEvent(t,i)},e.prototype.onModelLineChanged=function(e,t,i){return[!1,new n.ViewLinesChangedEvent(t,t),null,null]},e.prototype.acceptVersionId=function(e){},e.prototype.getViewLineCount=function(){return this.model.getLineCount()},e.prototype.warmUpLookupCache=function(e,t){},e.prototype.getActiveIndentGuide=function(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}},e.prototype.getViewLinesIndentGuides=function(e,t){for(var i=t-e+1,n=new Array(i),o=0;o<i;o++)n[o]=0;return n},e.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},e.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},e.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},e.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},e.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),i=t.getLineContent();return new r.ViewLineData(i,!1,1,i.length+1,t.inflate())},e.prototype.getViewLinesData=function(e,t,i){var n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);for(var o=[],r=e;r<=t;r++){var s=r-e;i[s]||(o[s]=null),o[s]=this.getViewLineData(r)}return o},e.prototype.getAllOverviewRulerDecorations=function(e,t,i){for(var n=this.model.getOverviewRulerDecorations(e,t),o=new w,r=0,s=n;r<s.length;r++){var u=s[r],l=u.options.overviewRuler,a=l?l.position:0;if(0!==a){var p=l.getColor(i),d=u.range.startLineNumber,h=u.range.endLineNumber;o.accept(p,d,h,a)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,i){return this.model.getDecorationsInRange(e,t,i)},e}();exports.IdentityLinesCollection=f;var w=function(){function e(){this.result=Object.create(null)}return e.prototype.accept=function(e,t,i,n){var o=this.result[e];if(o){var r=o[o.length-3],s=o[o.length-1];if(r===n&&s+1>=t)return void(i>s&&(o[o.length-1]=i));o.push(n,t,i)}else this.result[e]=[n,t,i]},e}();"},"sourceMaps":null,"error":null,"hash":"249866c56c8c36f1c0f421817efb0810","cacheData":{"env":{}}}