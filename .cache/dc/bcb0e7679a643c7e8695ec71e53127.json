{"id":"vlU0","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608591005023},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608591005019},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608591256872},{"name":"../../../../base/common/strings.js","loc":{"line":5,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/strings.js"},{"name":"../../core/range.js","loc":{"line":6,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../model.js","loc":{"line":7,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model.js"},{"name":"./pieceTreeBase.js","loc":{"line":8,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PieceTreeTextBuffer=void 0;var e=o(require(\"../../../../base/common/strings.js\")),t=require(\"../../core/range.js\"),n=require(\"../../model.js\"),r=require(\"./pieceTreeBase.js\");function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var s=function(){function i(e,t,n,i,o,s){this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._pieceTree=new r.PieceTreeBase(e,n,s)}return i.prototype.mightContainRTL=function(){return this._mightContainRTL},i.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},i.prototype.getBOM=function(){return this._BOM},i.prototype.getEOL=function(){return this._pieceTree.getEOL()},i.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},i.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},i.prototype.getRangeAt=function(e,n){var r=e+n,i=this.getPositionAt(e),o=this.getPositionAt(r);return new t.Range(i.lineNumber,i.column,o.lineNumber,o.column)},i.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return\"\";var n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)},i.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n},i.prototype.getCharacterCountInRange=function(t,n){if(void 0===n&&(n=0),this._mightContainNonBasicASCII){for(var r=0,i=t.startLineNumber,o=t.endLineNumber,s=i;s<=o;s++)for(var a=this.getLineContent(s),u=s===i?t.startColumn-1:0,g=s===o?t.endColumn-1:a.length,h=u;h<g;h++)e.isHighSurrogate(a.charCodeAt(h))?(r+=1,h+=1):r+=1;return r+=this._getEndOfLine(n).length*(o-i)}return this.getValueLengthInRange(t,n)},i.prototype.getLength=function(){return this._pieceTree.getLength()},i.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},i.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},i.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},i.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},i.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},i.prototype.getLineFirstNonWhitespaceColumn=function(t){var n=e.firstNonWhitespaceIndex(this.getLineContent(t));return-1===n?0:n+1},i.prototype.getLineLastNonWhitespaceColumn=function(t){var n=e.lastNonWhitespaceIndex(this.getLineContent(t));return-1===n?0:n+2},i.prototype._getEndOfLine=function(e){switch(e){case 1:return\"\\n\";case 2:return\"\\r\\n\";case 0:return this.getEOL()}throw new Error(\"Unknown EOL preference\")},i.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},i.prototype.applyEdits=function(t,r){for(var o=this._mightContainRTL,s=this._mightContainNonBasicASCII,a=!0,u=[],g=0;g<t.length;g++){var h=t[g];a&&h._isTracked&&(a=!1);var p=h.range;!o&&h.text&&(o=e.containsRTL(h.text)),!s&&h.text&&(s=!e.isBasicASCII(h.text)),u[g]={sortIndex:g,identifier:h.identifier||null,range:p,rangeOffset:this.getOffsetAt(p.startLineNumber,p.startColumn),rangeLength:this.getValueLengthInRange(p),lines:h.text?h.text.split(/\\r\\n|\\r|\\n/):null,forceMoveMarkers:Boolean(h.forceMoveMarkers),isAutoWhitespaceEdit:h.isAutoWhitespaceEdit||!1}}u.sort(i._sortOpsAscending);for(var f=!1,l=(g=0,u.length-1);g<l;g++){var c=u[g].range.getEndPosition(),d=u[g+1].range.getStartPosition();if(d.isBeforeOrEqual(c)){if(d.isBefore(c))throw new Error(\"Overlapping ranges are not allowed!\");f=!0}}a&&(u=this._reduceOperations(u));var L=i._getInverseEditRanges(u),m=[];for(g=0;g<u.length;g++){h=u[g];var C=L[g];if(r&&h.isAutoWhitespaceEdit&&h.range.isEmpty())for(var v=C.startLineNumber;v<=C.endLineNumber;v++){var N=\"\";v===C.startLineNumber&&(N=this.getLineContent(h.range.startLineNumber),-1!==e.firstNonWhitespaceIndex(N))||m.push({lineNumber:v,oldContent:N})}}var _=[];for(g=0;g<u.length;g++){h=u[g],C=L[g];_[g]={sortIndex:h.sortIndex,identifier:h.identifier,range:C,text:this.getValueInRange(h.range),forceMoveMarkers:h.forceMoveMarkers}}f||_.sort(function(e,t){return e.sortIndex-t.sortIndex}),this._mightContainRTL=o,this._mightContainNonBasicASCII=s;var b=this._doApplyEdits(u),O=null;if(r&&m.length>0){m.sort(function(e,t){return t.lineNumber-e.lineNumber}),O=[];g=0;for(var y=m.length;g<y;g++){v=m[g].lineNumber;if(!(g>0&&m[g-1].lineNumber===v)){var I=m[g].oldContent,E=this.getLineContent(v);0!==E.length&&E!==I&&-1===e.firstNonWhitespaceIndex(E)&&O.push(v)}}}return new n.ApplyEditsResult(_,b,O)},i.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},i.prototype._toSingleEditOperation=function(e){for(var n=!1,r=e[0].range,i=e[e.length-1].range,o=new t.Range(r.startLineNumber,r.startColumn,i.endLineNumber,i.endColumn),s=r.startLineNumber,a=r.startColumn,u=[],g=0,h=e.length;g<h;g++){var p=e[g],f=p.range;n=n||p.forceMoveMarkers;for(var l=s;l<f.startLineNumber;l++)l===s?u.push(this.getLineContent(l).substring(a-1)):(u.push(\"\\n\"),u.push(this.getLineContent(l)));if(f.startLineNumber===s?u.push(this.getLineContent(f.startLineNumber).substring(a-1,f.startColumn-1)):(u.push(\"\\n\"),u.push(this.getLineContent(f.startLineNumber).substring(0,f.startColumn-1))),p.lines)for(var c=0,d=p.lines.length;c<d;c++)0!==c&&u.push(\"\\n\"),u.push(p.lines[c]);s=p.range.endLineNumber,a=p.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),lines:u.join(\"\").split(\"\\n\"),forceMoveMarkers:n,isAutoWhitespaceEdit:!1}},i.prototype._doApplyEdits=function(e){e.sort(i._sortOpsDescending);for(var n=[],r=0;r<e.length;r++){var o=e[r],s=o.range.startLineNumber,a=o.range.startColumn,u=o.range.endLineNumber,g=o.range.endColumn;if(s!==u||a!==g||o.lines&&0!==o.lines.length){var h=u-s,p=o.lines?o.lines.length-1:0,f=Math.min(h,p),l=o.lines?o.lines.join(this.getEOL()):\"\";if(l?(this._pieceTree.delete(o.rangeOffset,o.rangeLength),this._pieceTree.insert(o.rangeOffset,l,!0)):this._pieceTree.delete(o.rangeOffset,o.rangeLength),f<p){for(var c=[],d=f+1;d<=p;d++)c.push(o.lines[d]);c[c.length-1]=this.getLineContent(s+p-1)}var L=new t.Range(s,a,u,g);n.push({range:L,rangeLength:o.rangeLength,text:l,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}}return n},i.prototype.findMatchesLineByLine=function(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)},i._getInverseEditRanges=function(e){for(var n=[],r=0,i=0,o=null,s=0,a=e.length;s<a;s++){var u=e[s],g=void 0,h=void 0;o?o.range.endLineNumber===u.range.startLineNumber?(g=r,h=i+(u.range.startColumn-o.range.endColumn)):(g=r+(u.range.startLineNumber-o.range.endLineNumber),h=u.range.startColumn):(g=u.range.startLineNumber,h=u.range.startColumn);var p=void 0;if(u.lines&&u.lines.length>0){var f=u.lines.length,l=u.lines[0],c=u.lines[f-1];p=1===f?new t.Range(g,h,g,h+l.length):new t.Range(g,h,g+f-1,c.length+1)}else p=new t.Range(g,h,g,h);r=p.endLineNumber,i=p.endColumn,n.push(p),o=u}return n},i._sortOpsAscending=function(e,n){var r=t.Range.compareRangesUsingEnds(e.range,n.range);return 0===r?e.sortIndex-n.sortIndex:r},i._sortOpsDescending=function(e,n){var r=t.Range.compareRangesUsingEnds(e.range,n.range);return 0===r?n.sortIndex-e.sortIndex:-r},i}();exports.PieceTreeTextBuffer=s;"},"sourceMaps":null,"error":null,"hash":"433e260eac49cf94f419cefc472b7247","cacheData":{"env":{}}}