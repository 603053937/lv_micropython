{"id":"DDpQ","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608846679099},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608846679095},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608846860992},{"name":"./bracketMatching.css","loc":{"line":18,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.css"},{"name":"../../../nls.js","loc":{"line":19,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/common/async.js","loc":{"line":20,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":21,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../browser/editorExtensions.js","loc":{"line":22,"column":79},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../common/core/position.js","loc":{"line":23,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../common/core/range.js","loc":{"line":24,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/selection.js","loc":{"line":25,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"../../common/editorContextKeys.js","loc":{"line":26,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js"},{"name":"../../common/model.js","loc":{"line":27,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model.js"},{"name":"../../common/model/textModel.js","loc":{"line":28,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"},{"name":"../../common/view/editorColorRegistry.js","loc":{"line":29,"column":71},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/view/editorColorRegistry.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":30,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":31,"column":61},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/actions/common/actions.js","loc":{"line":32,"column":29},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BracketMatchingController=void 0,require(\"./bracketMatching.css\");var e=g(require(\"../../../nls.js\")),t=require(\"../../../base/common/async.js\"),r=require(\"../../../base/common/lifecycle.js\"),o=require(\"../../browser/editorExtensions.js\"),i=require(\"../../common/core/position.js\"),n=require(\"../../common/core/range.js\"),a=require(\"../../common/core/selection.js\"),s=require(\"../../common/editorContextKeys.js\"),c=require(\"../../common/model.js\"),l=require(\"../../common/model/textModel.js\"),u=require(\"../../common/view/editorColorRegistry.js\"),d=require(\"../../../platform/theme/common/colorRegistry.js\"),h=require(\"../../../platform/theme/common/themeService.js\"),p=require(\"../../../platform/actions/common/actions.js\");function _(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=o?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var m=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=(0,d.registerColor)(\"editorOverviewRuler.bracketMatchForeground\",{dark:\"#A0A0A0\",light:\"#A0A0A0\",hc:\"#A0A0A0\"},e.localize(\"overviewRulerBracketMatchForeground\",\"Overview ruler marker color for matching brackets.\")),k=function(t){function r(){return t.call(this,{id:\"editor.action.jumpToBracket\",label:e.localize(\"smartSelect.jumpBracket\",\"Go to Bracket\"),alias:\"Go to Bracket\",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})||this}return m(r,t),r.prototype.run=function(e,t){var r=O.get(t);r&&r.jumpToBracket()},r}(o.EditorAction),B=function(t){function r(){return t.call(this,{id:\"editor.action.selectToBracket\",label:e.localize(\"smartSelect.selectToBracket\",\"Select to Bracket\"),alias:\"Select to Bracket\",precondition:void 0,description:{description:\"Select to Bracket\",args:[{name:\"args\",schema:{type:\"object\",properties:{selectBrackets:{type:\"boolean\",default:!0}}}}]}})||this}return m(r,t),r.prototype.run=function(e,t,r){var o=O.get(t);if(o){var i=!0;r&&!1===r.selectBrackets&&(i=!1),o.selectToBracket(i)}},r}(o.EditorAction),v=function(){return function(e,t,r){this.position=e,this.brackets=t,this.options=r}}(),O=function(e){function r(r){var o=e.call(this)||this;return o._editor=r,o._lastBracketsData=[],o._lastVersionId=0,o._decorations=[],o._updateBracketsSoon=o._register(new t.RunOnceScheduler(function(){return o._updateBrackets()},50)),o._matchBrackets=o._editor.getOption(51),o._updateBracketsSoon.schedule(),o._register(r.onDidChangeCursorPosition(function(e){\"never\"!==o._matchBrackets&&o._updateBracketsSoon.schedule()})),o._register(r.onDidChangeModelContent(function(e){o._updateBracketsSoon.schedule()})),o._register(r.onDidChangeModel(function(e){o._lastBracketsData=[],o._decorations=[],o._updateBracketsSoon.schedule()})),o._register(r.onDidChangeModelLanguageConfiguration(function(e){o._lastBracketsData=[],o._updateBracketsSoon.schedule()})),o._register(r.onDidChangeConfiguration(function(e){e.hasChanged(51)&&(o._matchBrackets=o._editor.getOption(51),o._decorations=o._editor.deltaDecorations(o._decorations,[]),o._lastBracketsData=[],o._lastVersionId=0,o._updateBracketsSoon.schedule())})),o}return m(r,e),r.get=function(e){return e.getContribution(r.ID)},r.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var e=this._editor.getModel(),t=this._editor.getSelections().map(function(t){var r=t.getStartPosition(),o=e.matchBracket(r),i=null;if(o)o[0].containsPosition(r)?i=o[1].getStartPosition():o[1].containsPosition(r)&&(i=o[0].getStartPosition());else{var n=e.findEnclosingBrackets(r);if(n)i=n[0].getStartPosition();else{var s=e.findNextBracket(r);s&&s.range&&(i=s.range.getStartPosition())}}return i?new a.Selection(i.lineNumber,i.column,i.lineNumber,i.column):new a.Selection(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}},r.prototype.selectToBracket=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),r=[];this._editor.getSelections().forEach(function(o){var i=o.getStartPosition(),s=t.matchBracket(i);if(!s&&!(s=t.findEnclosingBrackets(i))){var c=t.findNextBracket(i);c&&c.range&&(s=t.matchBracket(c.range.getStartPosition()))}var l=null,u=null;if(s){s.sort(n.Range.compareRangesUsingStarts);var d=s[0],h=s[1];l=e?d.getStartPosition():d.getEndPosition(),u=e?h.getEndPosition():h.getStartPosition()}l&&u&&r.push(new a.Selection(l.lineNumber,l.column,u.lineNumber,u.column))}),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}},r.prototype._updateBrackets=function(){if(\"never\"!==this._matchBrackets){this._recomputeBrackets();for(var e=[],t=0,r=0,o=this._lastBracketsData;r<o.length;r++){var i=o[r],n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}},r.prototype._recomputeBrackets=function(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var t=this._editor.getModel(),o=t.getVersionId(),n=[];this._lastVersionId===o&&(n=this._lastBracketsData);for(var a=[],s=0,c=0,l=e.length;c<l;c++){var u=e[c];u.isEmpty()&&(a[s++]=u.getStartPosition())}a.length>1&&a.sort(i.Position.compare);var d=[],h=0,p=0,_=n.length;for(c=0,l=a.length;c<l;c++){for(var g=a[c];p<_&&n[p].position.isBefore(g);)p++;if(p<_&&n[p].position.equals(g))d[h++]=n[p];else{var m=t.matchBracket(g),f=r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;m||\"always\"!==this._matchBrackets||(m=t.findEnclosingBrackets(g,20),f=r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),d[h++]=new v(g,m,f)}}this._lastBracketsData=d,this._lastVersionId=o},r.ID=\"editor.contrib.bracketMatchingController\",r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=l.ModelDecorationOptions.register({stickiness:1,className:\"bracket-match\",overviewRuler:{color:(0,h.themeColorFromId)(f),position:c.OverviewRulerLane.Center}}),r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=l.ModelDecorationOptions.register({stickiness:1,className:\"bracket-match\"}),r}(r.Disposable);exports.BracketMatchingController=O,(0,o.registerEditorContribution)(O.ID,O),(0,o.registerEditorAction)(B),(0,o.registerEditorAction)(k),(0,h.registerThemingParticipant)(function(e,t){var r=e.getColor(u.editorBracketMatchBackground);r&&t.addRule(\".monaco-editor .bracket-match { background-color: \"+r+\"; }\");var o=e.getColor(u.editorBracketMatchBorder);o&&t.addRule(\".monaco-editor .bracket-match { border: 1px solid \"+o+\"; }\")}),p.MenuRegistry.appendMenuItem(17,{group:\"5_infile_nav\",command:{id:\"editor.action.jumpToBracket\",title:e.localize({key:\"miGoToBracket\",comment:[\"&& denotes a mnemonic\"]},\"Go to &&Bracket\")},order:2});"},"sourceMaps":null,"error":null,"hash":"36f1cd2dc681fdbc9c46bf53320f0d62","cacheData":{"env":{}}}