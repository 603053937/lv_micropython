{"id":"lmE8","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608591005023},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608591005019},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608591256872},{"name":"./dnd.css","loc":{"line":18,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.css"},{"name":"../../../base/common/lifecycle.js","loc":{"line":19,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/platform.js","loc":{"line":20,"column":28},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"../../browser/editorExtensions.js","loc":{"line":21,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../common/core/position.js","loc":{"line":22,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../common/core/range.js","loc":{"line":23,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/selection.js","loc":{"line":24,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"./dragAndDropCommand.js","loc":{"line":25,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dragAndDropCommand.js"},{"name":"../../common/model/textModel.js","loc":{"line":26,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DragAndDropController=void 0,require(\"./dnd.css\");var t=require(\"../../../base/common/lifecycle.js\"),o=require(\"../../../base/common/platform.js\"),e=require(\"../../browser/editorExtensions.js\"),i=require(\"../../common/core/position.js\"),n=require(\"../../common/core/range.js\"),r=require(\"../../common/core/selection.js\"),s=require(\"./dragAndDropCommand.js\"),u=require(\"../../common/model/textModel.js\"),d=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function i(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function c(t){return o.isMacintosh?t.altKey:t.ctrlKey}var _=function(t){function e(o){var e=t.call(this)||this;return e._editor=o,e._register(e._editor.onMouseDown(function(t){return e._onEditorMouseDown(t)})),e._register(e._editor.onMouseUp(function(t){return e._onEditorMouseUp(t)})),e._register(e._editor.onMouseDrag(function(t){return e._onEditorMouseDrag(t)})),e._register(e._editor.onMouseDrop(function(t){return e._onEditorMouseDrop(t)})),e._register(e._editor.onKeyDown(function(t){return e.onEditorKeyDown(t)})),e._register(e._editor.onKeyUp(function(t){return e.onEditorKeyUp(t)})),e._register(e._editor.onDidBlurEditorWidget(function(){return e.onEditorBlur()})),e._dndDecorationIds=[],e._mouseDown=!1,e._modifierPressed=!1,e._dragSelection=null,e}return d(e,t),e.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},e.prototype.onEditorKeyDown=function(t){this._editor.getOption(23)&&(c(t)&&(this._modifierPressed=!0),this._mouseDown&&c(t)&&this._editor.updateOptions({mouseStyle:\"copy\"}))},e.prototype.onEditorKeyUp=function(t){this._editor.getOption(23)&&(c(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:\"default\"}))},e.prototype._onEditorMouseDown=function(t){this._mouseDown=!0},e.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:\"text\"})},e.prototype._onEditorMouseDrag=function(t){var o=t.target;if(null===this._dragSelection){var e=(this._editor.getSelections()||[]).filter(function(t){return o.position&&t.containsPosition(o.position)});if(1!==e.length)return;this._dragSelection=e[0]}c(t.event)?this._editor.updateOptions({mouseStyle:\"copy\"}):this._editor.updateOptions({mouseStyle:\"default\"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))},e.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var o=new i.Position(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){var n=null;if(t.event.shiftKey){var u=this._editor.getSelection();if(u){var d=u.selectionStartLineNumber,_=u.selectionStartColumn;n=[new r.Selection(d,_,o.lineNumber,o.column)]}}else n=(this._editor.getSelections()||[]).map(function(t){return t.containsPosition(o)?new r.Selection(o.lineNumber,o.column,o.lineNumber,o.column):t});this._editor.setSelections(n||[],\"mouse\")}else(!this._dragSelection.containsPosition(o)||(c(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new s.DragAndDropCommand(this._dragSelection,o,c(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:\"text\"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},e.prototype.showAt=function(t){var o=[{range:new n.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,o),this._editor.revealPosition(t,1)},e.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},e.prototype._hitContent=function(t){return 6===t.type||7===t.type},e.prototype._hitMargin=function(t){return 2===t.type||3===t.type||4===t.type},e.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,t.prototype.dispose.call(this)},e.ID=\"editor.contrib.dragAndDrop\",e.TRIGGER_KEY_VALUE=o.isMacintosh?6:5,e._DECORATION_OPTIONS=u.ModelDecorationOptions.register({className:\"dnd-target\"}),e}(t.Disposable);exports.DragAndDropController=_,(0,e.registerEditorContribution)(_.ID,_);"},"sourceMaps":null,"error":null,"hash":"6d77b055de193145f5812879ec552e49","cacheData":{"env":{}}}