{"id":"djWb","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608591005023},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608591005019},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608591256872},{"name":"../../../base/common/event.js","loc":{"line":5,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"./foldingRanges.js","loc":{"line":6,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingRanges.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toggleCollapseState=n,exports.setCollapseStateLevelsDown=o,exports.setCollapseStateLevelsUp=r,exports.setCollapseStateAtLevel=s,exports.setCollapseStateForMatchingLines=a,exports.setCollapseStateForType=l,exports.FoldingModel=void 0;var e=require(\"../../../base/common/event.js\"),t=require(\"./foldingRanges.js\"),i=function(){function i(i,n){this._updateEventEmitter=new e.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=i,this._decorationProvider=n,this._regions=new t.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(i.prototype,\"regions\",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,\"textModel\",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,\"isInitialized\",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),i.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var i={};this._decorationProvider.changeDecorations(function(n){for(var o=0,r=e;o<r.length;o++){var s=r[o].regionIndex,a=t._editorDecorationIds[s];if(a&&!i[a]){i[a]=!0;var l=!t._regions.isCollapsed(s);t._regions.setCollapsed(s,l),n.changeDecorationOptions(a,t._decorationProvider.getDecorationOption(l))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},i.prototype.update=function(e,t){var i=this;void 0===t&&(t=[]);for(var n=[],o=function(o,r){var s=e.getStartLineNumber(o);r&&function(e,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];if(e<r&&r<=i)return!0}return!1}(s,e.getEndLineNumber(o))&&(r=!1),e.setCollapsed(o,r);var a=i._textModel.getLineMaxColumn(s),l={startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:a};n.push({range:l,options:i._decorationProvider.getDecorationOption(r)})},r=0,s=function(){for(;r<i._regions.length;){var e=i._regions.isCollapsed(r);if(r++,e)return r-1}return-1},a=0,l=s();-1!==l&&a<e.length;){var g=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(g){var u=g.startLineNumber;if(this._textModel.getLineMaxColumn(u)===g.startColumn)for(;a<e.length;){var p=e.getStartLineNumber(a);if(!(u>=p))break;o(a,u===p),a++}}l=s()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},i.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){var n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:o})}}if(e.length>0)return e},i.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],i=0,n=e;i<n.length;i++){var o=n[i],r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}},i.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},i.prototype.getAllRegionsAtLine=function(e,t){var i=[];if(this._regions)for(var n=this._regions.findRange(e),o=1;n>=0;){var r=this._regions.toRegion(n);t&&!t(r,o)||i.push(r),o++,n=r.parentIndex}return i},i.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},i.prototype.getRegionsInside=function(e,t){var i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var r=[],s=n,a=this._regions.length;s<a;s++){var l=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;for(;r.length>0&&!l.containedBy(r[r.length-1]);)r.pop();r.push(l),t(l,r.length)&&i.push(l)}else for(s=n,a=this._regions.length;s<a;s++){l=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;t&&!t(l)||i.push(l)}return i},i}();function n(e,t,i){for(var n=[],o=function(i){var o=e.getRegionAtLine(i);if(o){var r=!o.isCollapsed;if(n.push(o),t>1){var s=e.getRegionsInside(o,function(e,i){return e.isCollapsed!==r&&i<t});n.push.apply(n,s)}}},r=0,s=i;r<s.length;r++){o(s[r])}e.toggleCollapseState(n)}function o(e,t,i,n){void 0===i&&(i=Number.MAX_VALUE);var o=[];if(n&&n.length>0)for(var r=0,s=n;r<s.length;r++){var a=s[r],l=e.getRegionAtLine(a);if(l&&(l.isCollapsed!==t&&o.push(l),i>1)){var g=e.getRegionsInside(l,function(e,n){return e.isCollapsed!==t&&n<i});o.push.apply(o,g)}}else{g=e.getRegionsInside(null,function(e,n){return e.isCollapsed!==t&&n<i});o.push.apply(o,g)}e.toggleCollapseState(o)}function r(e,t,i,n){for(var o=[],r=0,s=n;r<s.length;r++){var a=s[r],l=e.getAllRegionsAtLine(a,function(e,n){return e.isCollapsed!==t&&n<=i});o.push.apply(o,l)}e.toggleCollapseState(o)}function s(e,t,i,n){var o=e.getRegionsInside(null,function(e,o){return o===t&&e.isCollapsed!==i&&!n.some(function(t){return e.containsLine(t)})});e.toggleCollapseState(o)}function a(e,t,i){for(var n=e.textModel,o=e.regions,r=[],s=o.length-1;s>=0;s--)if(i!==o.isCollapsed(s)){var a=o.getStartLineNumber(s);t.test(n.getLineContent(a))&&r.push(o.toRegion(s))}e.toggleCollapseState(r)}function l(e,t,i){for(var n=e.regions,o=[],r=n.length-1;r>=0;r--)i!==n.isCollapsed(r)&&t===n.getType(r)&&o.push(n.toRegion(r));e.toggleCollapseState(o)}exports.FoldingModel=i;"},"sourceMaps":null,"error":null,"hash":"74eb163ae20a1c929a83349dd5c5dfd7","cacheData":{"env":{}}}