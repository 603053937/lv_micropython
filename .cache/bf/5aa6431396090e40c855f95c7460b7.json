{"id":"oHl5","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607286873532},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607286873524},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607287523892},{"name":"./abstractTree.js","loc":{"line":72,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js"},{"name":"./objectTree.js","loc":{"line":73,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/objectTree.js"},{"name":"./tree.js","loc":{"line":74,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/tree.js"},{"name":"../../../common/lifecycle.js","loc":{"line":75,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../common/event.js","loc":{"line":76,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../common/async.js","loc":{"line":77,"column":49},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../common/iterator.js","loc":{"line":78,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/iterator.js"},{"name":"../list/listView.js","loc":{"line":79,"column":40},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js"},{"name":"../../../common/errors.js","loc":{"line":80,"column":58},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../dom.js","loc":{"line":81,"column":28},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../common/map.js","loc":{"line":82,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/map.js"},{"name":"./indexTreeModel.js","loc":{"line":83,"column":48},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CompressibleAsyncDataTree=exports.AsyncDataTree=void 0;var e=require(\"./abstractTree.js\"),t=require(\"./objectTree.js\"),r=require(\"./tree.js\"),n=require(\"../../../common/lifecycle.js\"),o=require(\"../../../common/event.js\"),i=require(\"../../../common/async.js\"),s=require(\"../../../common/iterator.js\"),l=require(\"../list/listView.js\"),a=require(\"../../../common/errors.js\"),u=require(\"../../dom.js\"),d=require(\"../../../common/map.js\"),c=require(\"./indexTreeModel.js\"),p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function l(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,l)}a((n=n.apply(e,t||[])).next())})},m=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(l){i=[6,l],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},y=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,o++)n[o]=i[s];return n};function v(e){return h(h({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function b(e,t){return!!t.parent&&(t.parent===e||b(e,t.parent))}function g(e,t){return e===t||b(e,t)||b(t,e)}var D=function(){function e(e){this.node=e}return Object.defineProperty(e.prototype,\"element\",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this.node.children.map(function(t){return new e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"depth\",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visibleChildrenCount\",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visibleChildIndex\",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"collapsible\",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"collapsed\",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visible\",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"filterData\",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}(),P=function(){function e(e,t,r){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.templateId=e.templateId}return e.prototype.renderTemplate=function(e){return{templateData:this.renderer.renderTemplate(e)}},e.prototype.renderElement=function(e,t,r,n){this.renderer.renderElement(this.nodeMapper.map(e),t,r.templateData,n)},e.prototype.renderTwistie=function(e,t){return(0,u.toggleClass)(t,\"codicon-loading\",e.slow),!1},e.prototype.disposeElement=function(e,t,r,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,r.templateData,n)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.dispose=function(){this.renderedNodes.clear()},e}();function C(e){return{browserEvent:e.browserEvent,elements:e.elements.map(function(e){return e.element})}}var w=function(e){function t(t){var r=e.call(this,t.elements.map(function(e){return e.element}))||this;return r.data=t,r}return p(t,e),t}(l.ElementsDragAndDropData);function S(e){return e instanceof l.ElementsDragAndDropData?new w(e):e}var T=function(){function e(e){this.dnd=e}return e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},e.prototype.getDragLabel=function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(e){return e.element}),t)},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(S(e),t)},e.prototype.onDragOver=function(e,t,r,n,o){return void 0===o&&(o=!0),this.dnd.onDragOver(S(e),t&&t.element,r,n)},e.prototype.drop=function(e,t,r,n){this.dnd.drop(S(e),t&&t.element,r,n)},e.prototype.onDragEnd=function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},e}();function E(e){return e&&h(h({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new T(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(h(h({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(h(h({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&h(h({},e.accessibilityProvider),{getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getAriaLevel:e.accessibilityProvider.getAriaLevel&&function(t){return e.accessibilityProvider.getAriaLevel(t.element)},getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&function(t){return e.accessibilityProvider.getActiveDescendantId(t.element)}}),filter:e.filter&&{filter:function(t,r){return e.filter.filter(t.element,r)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&h(h({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:\"function\"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},ariaProvider:void 0,additionalScrollHeight:e.additionalScrollHeight})}function O(e,t){t(e),e.children.forEach(function(e){return O(e,t)})}var N=function(){function l(e,t,i,s,l,a){void 0===a&&(a={}),this.user=e,this.dataSource=l,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new o.Emitter,this._onDidChangeNodeSlowState=new o.Emitter,this.nodeMapper=new r.WeakMapper(function(e){return new D(e)}),this.disposables=new n.DisposableStore,this.identityProvider=a.identityProvider,this.autoExpandSingleChildren=void 0!==a.autoExpandSingleChildren&&a.autoExpandSingleChildren,this.sorter=a.sorter,this.collapseByDefault=a.collapseByDefault,this.tree=this.createTree(e,t,i,s,a),this.root=v({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=h(h({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(l.prototype,\"onDidChangeFocus\",{get:function(){return o.Event.map(this.tree.onDidChangeFocus,C)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,\"onDidChangeSelection\",{get:function(){return o.Event.map(this.tree.onDidChangeSelection,C)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,\"onDidOpen\",{get:function(){return o.Event.map(this.tree.onDidOpen,C)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,\"onDidFocus\",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,\"onDidDispose\",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),l.prototype.createTree=function(r,n,o,i,s){var l=this,a=new e.ComposedTreeDelegate(o),u=i.map(function(e){return new P(e,l.nodeMapper,l._onDidChangeNodeSlowState.event)}),d=E(s)||{};return new t.ObjectTree(r,n,a,u,d)},l.prototype.updateOptions=function(e){void 0===e&&(e={}),this.tree.updateOptions(e)},l.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(l.prototype,\"scrollTop\",{get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e},enumerable:!0,configurable:!0}),l.prototype.domFocus=function(){this.tree.domFocus()},l.prototype.layout=function(e,t){this.tree.layout(e,t)},l.prototype.style=function(e){this.tree.style(e)},l.prototype.getInput=function(){return this.root.element},l.prototype.setInput=function(e,t){return f(this,void 0,void 0,function(){var r;return m(this,function(n){switch(n.label){case 0:return this.refreshPromises.forEach(function(e){return e.cancel()}),this.refreshPromises.clear(),this.root.element=e,r=t&&{viewState:t,focus:[],selection:[]},[4,this._updateChildren(e,!0,!1,r)];case 1:return n.sent(),r&&(this.tree.setFocus(r.focus),this.tree.setSelection(r.selection)),t&&\"number\"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop),[2]}})})},l.prototype._updateChildren=function(e,t,n,i){return void 0===e&&(e=this.root.element),void 0===t&&(t=!0),void 0===n&&(n=!1),f(this,void 0,void 0,function(){var s;return m(this,function(l){switch(l.label){case 0:if(void 0===this.root.element)throw new r.TreeError(this.user,\"Tree input not set\");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return l.sent(),[4,o.Event.toPromise(this._onDidRender.event)];case 2:l.sent(),l.label=3;case 3:return s=this.getDataNode(e),[4,this.refreshAndRenderNode(s,t,i)];case 4:if(l.sent(),n)try{this.tree.rerender(s)}catch(a){}return[2]}})})},l.prototype.rerender=function(e){if(void 0!==e&&e!==this.root.element){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()},l.prototype.collapse=function(e,t){void 0===t&&(t=!1);var r=this.getDataNode(e);return this.tree.collapse(r===this.root?null:r,t)},l.prototype.expand=function(e,t){return void 0===t&&(t=!1),f(this,void 0,void 0,function(){var n,i;return m(this,function(s){switch(s.label){case 0:if(void 0===this.root.element)throw new r.TreeError(this.user,\"Tree input not set\");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return s.sent(),[4,o.Event.toPromise(this._onDidRender.event)];case 2:s.sent(),s.label=3;case 3:return(n=this.getDataNode(e)).refreshPromise?[4,this.root.refreshPromise]:[3,6];case 4:return s.sent(),[4,o.Event.toPromise(this._onDidRender.event)];case 5:s.sent(),s.label=6;case 6:return n===this.root||n.refreshPromise||this.tree.isCollapsed(n)?(i=this.tree.expand(n===this.root?null:n,t),n.refreshPromise?[4,this.root.refreshPromise]:[3,9]):[2,!1];case 7:return s.sent(),[4,o.Event.toPromise(this._onDidRender.event)];case 8:s.sent(),s.label=9;case 9:return[2,i]}})})},l.prototype.setSelection=function(e,t){var r=this,n=e.map(function(e){return r.getDataNode(e)});this.tree.setSelection(n,t)},l.prototype.getSelection=function(){return this.tree.getSelection().map(function(e){return e.element})},l.prototype.setFocus=function(e,t){var r=this,n=e.map(function(e){return r.getDataNode(e)});this.tree.setFocus(n,t)},l.prototype.getFocus=function(){return this.tree.getFocus().map(function(e){return e.element})},l.prototype.reveal=function(e,t){this.tree.reveal(this.getDataNode(e),t)},l.prototype.getDataNode=function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new r.TreeError(this.user,\"Data tree node not found: \"+e);return t},l.prototype.refreshAndRenderNode=function(e,t,r){return f(this,void 0,void 0,function(){return m(this,function(n){switch(n.label){case 0:return[4,this.refreshNode(e,t,r)];case 1:return n.sent(),this.render(e,r),[2]}})})},l.prototype.refreshNode=function(e,t,r){return f(this,void 0,void 0,function(){var n,o=this;return m(this,function(i){return this.subTreeRefreshPromises.forEach(function(i,s){!n&&g(s,e)&&(n=i.then(function(){return o.refreshNode(e,t,r)}))}),n?[2,n]:[2,this.doRefreshSubTree(e,t,r)]})})},l.prototype.doRefreshSubTree=function(e,t,r){return f(this,void 0,void 0,function(){var n,o,i=this;return m(this,function(s){switch(s.label){case 0:e.refreshPromise=new Promise(function(e){return n=e}),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(function(){e.refreshPromise=void 0,i.subTreeRefreshPromises.delete(e)}),s.label=1;case 1:return s.trys.push([1,,4,5]),[4,this.doRefreshNode(e,t,r)];case 2:return o=s.sent(),e.stale=!1,[4,Promise.all(o.map(function(e){return i.doRefreshSubTree(e,t,r)}))];case 3:return s.sent(),[3,5];case 4:return n(),[7];case 5:return[2]}})})},l.prototype.doRefreshNode=function(e,t,r){return f(this,void 0,void 0,function(){var n,o,s,l,u=this;return m(this,function(d){switch(d.label){case 0:e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?((o=(0,i.timeout)(800)).then(function(){e.slow=!0,u._onDidChangeNodeSlowState.fire(e)},function(e){return null}),n=this.doGetChildren(e).finally(function(){return o.cancel()})):n=Promise.resolve([]),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,n];case 2:return s=d.sent(),[2,this.setChildren(e,s,t,r)];case 3:if(l=d.sent(),e!==this.root&&this.tree.collapse(e===this.root?null:e),(0,a.isPromiseCanceledError)(l))return[2,[]];throw l;case 4:return e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),[7];case 5:return[2]}})})},l.prototype.doGetChildren=function(e){var t=this,r=this.refreshPromises.get(e);return r||(r=(0,i.createCancelablePromise)(function(){return f(t,void 0,void 0,function(){var t;return m(this,function(r){switch(r.label){case 0:return[4,this.dataSource.getChildren(e.element)];case 1:return t=r.sent(),[2,this.processChildren(t)]}})})}),this.refreshPromises.set(e,r),r.finally(function(){return t.refreshPromises.delete(e)}))},l.prototype._onDidChangeCollapseState=function(e){var t=e.node,r=e.deep;!t.collapsed&&t.element.stale&&(r?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(a.onUnexpectedError))},l.prototype.setChildren=function(e,t,r,n){var o,i=this;if(0===e.children.length&&0===t.length)return[];for(var s=new Map,l=new Map,a=0,u=e.children;a<u.length;a++){var c=u[a];if(s.set(c.element,c),this.identityProvider){var p=this.tree.isCollapsed(c);l.set(c.id,{node:c,collapsed:p})}}for(var h=[],f=t.map(function(t){var o=!!i.dataSource.hasChildren(t);if(!i.identityProvider){var a=v({element:t,parent:e,hasChildren:o});return o&&i.collapseByDefault&&!i.collapseByDefault(t)&&(a.collapsedByDefault=!1,h.push(a)),a}var u=i.identityProvider.getId(t).toString(),d=l.get(u);if(d){a=d.node;return s.delete(a.element),i.nodes.delete(a.element),i.nodes.set(t,a),a.element=t,a.hasChildren=o,r?d.collapsed?(a.children.forEach(function(e){return O(e,function(e){return i.nodes.delete(e.element)})}),a.children.splice(0,a.children.length),a.stale=!0):h.push(a):o&&i.collapseByDefault&&!i.collapseByDefault(t)&&(a.collapsedByDefault=!1,h.push(a)),a}var c=v({element:t,parent:e,id:u,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(u)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(u)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(u)>-1?h.push(c):o&&i.collapseByDefault&&!i.collapseByDefault(t)&&(c.collapsedByDefault=!1,h.push(c)),c}),m=0,b=(0,d.values)(s);m<b.length;m++){O(b[m],function(e){return i.nodes.delete(e.element)})}for(var g=0,D=f;g<D.length;g++){c=D[g];this.nodes.set(c.element,c)}return(o=e.children).splice.apply(o,y([0,e.children.length],f)),e!==this.root&&this.autoExpandSingleChildren&&1===f.length&&0===h.length&&(f[0].collapsedByDefault=!1,h.push(f[0])),h},l.prototype.render=function(e,t){var r=this,n=e.children.map(function(e){return r.asTreeElement(e,t)});this.tree.setChildren(e===this.root?null:e,n),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()},l.prototype.asTreeElement=function(e,t){var r,n=this;return e.stale?{element:e,collapsible:e.hasChildren,collapsed:!0}:(r=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?s.Iterator.map(s.Iterator.fromArray(e.children),function(e){return n.asTreeElement(e,t)}):[],collapsible:e.hasChildren,collapsed:r})},l.prototype.processChildren=function(e){return this.sorter&&e.sort(this.sorter.compare.bind(this.sorter)),e},l.prototype.dispose=function(){this.disposables.dispose()},l}();exports.AsyncDataTree=N;var j=function(){function e(e){this.node=e}return Object.defineProperty(e.prototype,\"element\",{get:function(){return{elements:this.node.element.elements.map(function(e){return e.element}),incompressible:this.node.element.incompressible}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this.node.children.map(function(t){return new e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"depth\",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visibleChildrenCount\",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visibleChildIndex\",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"collapsible\",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"collapsed\",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"visible\",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"filterData\",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}(),x=function(){function e(e,t,r,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=r,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}return e.prototype.renderTemplate=function(e){return{templateData:this.renderer.renderTemplate(e)}},e.prototype.renderElement=function(e,t,r,n){this.renderer.renderElement(this.nodeMapper.map(e),t,r.templateData,n)},e.prototype.renderCompressedElements=function(e,t,r,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,r.templateData,n)},e.prototype.renderTwistie=function(e,t){return(0,u.toggleClass)(t,\"codicon-loading\",e.slow),!1},e.prototype.disposeElement=function(e,t,r,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,r.templateData,n)},e.prototype.disposeCompressedElements=function(e,t,r,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,r.templateData,n)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)},e}();function M(e){var t=e&&E(e);return t&&h(h({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&h(h({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(function(e){return e.element}))}})})}var _=function(n){function o(e,t,o,i,s,l,a){void 0===a&&(a={});var u=n.call(this,e,t,o,s,l,a)||this;return u.compressionDelegate=i,u.compressibleNodeMapper=new r.WeakMapper(function(e){return new j(e)}),u.filter=a.filter,u}return p(o,n),o.prototype.createTree=function(r,n,o,i,s){var l=this,a=new e.ComposedTreeDelegate(o),u=i.map(function(e){return new x(e,l.nodeMapper,function(){return l.compressibleNodeMapper},l._onDidChangeNodeSlowState.event)}),d=M(s)||{};return new t.CompressibleObjectTree(r,n,a,u,d)},o.prototype.asTreeElement=function(e,t){return h({incompressible:this.compressionDelegate.isIncompressible(e.element)},n.prototype.asTreeElement.call(this,e,t))},o.prototype.updateOptions=function(e){void 0===e&&(e={}),this.tree.updateOptions(e)},o.prototype.render=function(e,t){var r=this;if(!this.identityProvider)return n.prototype.render.call(this,e,t);var o=function(e){return r.identityProvider.getId(e).toString()},i=function(e){for(var t=new Set,n=0,i=e;n<i.length;n++){var s=i[n],l=r.tree.getCompressedTreeNode(s===r.root?null:s);if(l.element)for(var a=0,u=l.element.elements;a<u.length;a++){var d=u[a];t.add(o(d.element))}}return t},s=i(this.tree.getSelection()),l=i(this.tree.getFocus());n.prototype.render.call(this,e,t);var a=this.getSelection(),u=!1,d=this.getFocus(),c=!1,p=function(e){var t=e.element;if(t)for(var r=0;r<t.elements.length;r++){var n=o(t.elements[r].element),i=t.elements[t.elements.length-1].element;s.has(n)&&-1===a.indexOf(i)&&(a.push(i),u=!0),l.has(n)&&-1===d.indexOf(i)&&(d.push(i),c=!0)}e.children.forEach(p)};p(this.tree.getCompressedTreeNode(e===this.root?null:e)),u&&this.setSelection(a),c&&this.setFocus(d)},o.prototype.processChildren=function(e){var t=this;return this.filter&&(e=e.filter(function(e){var r=R(t.filter.filter(e,1));if(2===r)throw new Error(\"Recursive tree visibility not supported in async data compressed trees\");return 1===r})),n.prototype.processChildren.call(this,e)},o}(N);function R(e){return\"boolean\"==typeof e?e?1:0:(0,c.isFilterResult)(e)?(0,c.getVisibleState)(e.visibility):(0,c.getVisibleState)(e)}exports.CompressibleAsyncDataTree=_;"},"sourceMaps":null,"error":null,"hash":"ed556219f5f46c8e53efd902230d35d1","cacheData":{"env":{}}}