{"id":"PnTh","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607286873532},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607286873524},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607287523892},{"name":"../../../platform/markers/common/markers.js","loc":{"line":27,"column":47},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":28,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../model.js","loc":{"line":29,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":30,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../view/editorColorRegistry.js","loc":{"line":31,"column":76},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/view/editorColorRegistry.js"},{"name":"./modelService.js","loc":{"line":32,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js"},{"name":"../core/range.js","loc":{"line":33,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../../base/common/map.js","loc":{"line":34,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/map.js"},{"name":"../../../base/common/network.js","loc":{"line":35,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/network.js"},{"name":"../../../base/common/event.js","loc":{"line":36,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/types.js","loc":{"line":37,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/types.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":38,"column":45},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsServiceImpl.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MarkerDecorationsService=void 0;var e=require(\"../../../platform/markers/common/markers.js\"),r=require(\"../../../base/common/lifecycle.js\"),t=require(\"../model.js\"),o=require(\"../../../platform/theme/common/themeService.js\"),n=require(\"../view/editorColorRegistry.js\"),i=require(\"./modelService.js\"),a=require(\"../core/range.js\"),s=require(\"../../../base/common/map.js\"),u=require(\"../../../base/common/network.js\"),c=require(\"../../../base/common/event.js\"),m=require(\"../../../base/common/types.js\"),l=require(\"../../../platform/theme/common/colorRegistry.js\"),d=function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),p=function(e,r,t,o){var n,i=arguments.length,a=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(r,t,a):n(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a},f=function(e,r){return function(t,o){r(t,o,e)}};function g(e){return e.toString()}var v=function(e){function t(t){var o=e.call(this)||this;return o.model=t,o._markersData=new Map,o._register((0,r.toDisposable)(function(){o.model.deltaDecorations((0,s.keys)(o._markersData),[]),o._markersData.clear()})),o}return d(t,e),t.prototype.update=function(e,r){for(var t=this.model.deltaDecorations((0,s.keys)(this._markersData),r),o=0;o<t.length;o++)this._markersData.set(t[o],e[o])},t.prototype.getMarker=function(e){return this._markersData.get(e.id)},t}(r.Disposable),h=function(r){function s(e,t){var o=r.call(this)||this;return o._markerService=t,o._onDidChangeMarker=o._register(new c.Emitter),o._markerDecorations=new Map,e.getModels().forEach(function(e){return o._onModelAdded(e)}),o._register(e.onModelAdded(o._onModelAdded,o)),o._register(e.onModelRemoved(o._onModelRemoved,o)),o._register(o._markerService.onMarkerChanged(o._handleMarkerChange,o)),o}return d(s,r),s.prototype.dispose=function(){r.prototype.dispose.call(this),this._markerDecorations.forEach(function(e){return e.dispose()}),this._markerDecorations.clear()},s.prototype.getMarker=function(e,r){var t=this._markerDecorations.get(g(e.uri));return t?(0,m.withUndefinedAsNull)(t.getMarker(r)):null},s.prototype._handleMarkerChange=function(e){var r=this;e.forEach(function(e){var t=r._markerDecorations.get(g(e));t&&r._updateDecorations(t)})},s.prototype._onModelAdded=function(e){var r=new v(e);this._markerDecorations.set(g(e.uri),r),this._updateDecorations(r)},s.prototype._onModelRemoved=function(e){var r=this,t=this._markerDecorations.get(g(e.uri));t&&(t.dispose(),this._markerDecorations.delete(g(e.uri))),e.uri.scheme!==u.Schemas.inMemory&&e.uri.scheme!==u.Schemas.internal&&e.uri.scheme!==u.Schemas.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(t){return r._markerService.remove(t,[e.uri])})},s.prototype._updateDecorations=function(e){var r=this,t=this._markerService.read({resource:e.model.uri,take:500}),o=t.map(function(t){return{range:r._createDecorationRange(e.model,t),options:r._createDecorationOption(t)}});e.update(t,o),this._onDidChangeMarker.fire(e.model)},s.prototype._createDecorationRange=function(r,t){var o=a.Range.lift(t);if(t.severity===e.MarkerSeverity.Hint&&(t.tags&&-1!==t.tags.indexOf(1)||(o=o.setEndPosition(o.startLineNumber,o.startColumn+2))),(o=r.validateRange(o)).isEmpty()){var n=r.getWordAtPosition(o.getStartPosition());if(n)o=new a.Range(o.startLineNumber,n.startColumn,o.endLineNumber,n.endColumn);else{var i=r.getLineLastNonWhitespaceColumn(o.startLineNumber)||r.getLineMaxColumn(o.startLineNumber);1===i||(o=o.endColumn>=i?new a.Range(o.startLineNumber,i-1,o.endLineNumber,i):new a.Range(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&o.startLineNumber===o.endLineNumber){var s=r.getLineFirstNonWhitespaceColumn(t.startLineNumber);s<o.endColumn&&(o=new a.Range(o.startLineNumber,s,o.endLineNumber,o.endColumn),t.startColumn=s)}return o},s.prototype._createDecorationOption=function(r){var i,a,s,u=void 0,c=void 0;switch(r.severity){case e.MarkerSeverity.Hint:i=r.tags&&r.tags.indexOf(1)>=0?\"squiggly-unnecessary\":\"squiggly-hint\",a=0;break;case e.MarkerSeverity.Warning:i=\"squiggly-warning\",u=(0,o.themeColorFromId)(n.overviewRulerWarning),a=20,s={color:(0,o.themeColorFromId)(l.minimapWarning),position:t.MinimapPosition.Inline};break;case e.MarkerSeverity.Info:i=\"squiggly-info\",u=(0,o.themeColorFromId)(n.overviewRulerInfo),a=10;break;case e.MarkerSeverity.Error:default:i=\"squiggly-error\",u=(0,o.themeColorFromId)(n.overviewRulerError),a=30,s={color:(0,o.themeColorFromId)(l.minimapError),position:t.MinimapPosition.Inline}}return r.tags&&(-1!==r.tags.indexOf(1)&&(c=\"squiggly-inline-unnecessary\"),-1!==r.tags.indexOf(2)&&(c=\"squiggly-inline-deprecated\")),{stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:u,position:t.OverviewRulerLane.Right},minimap:s,zIndex:a,inlineClassName:c}},s=p([f(0,i.IModelService),f(1,e.IMarkerService)],s)}(r.Disposable);exports.MarkerDecorationsService=h;"},"sourceMaps":null,"error":null,"hash":"16a2f8593c55c79585a2d245e68aee28","cacheData":{"env":{}}}