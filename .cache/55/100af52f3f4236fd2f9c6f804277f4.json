{"id":"pgO3","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607046859852},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607046859848},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607047108423},{"name":"../../../base/browser/dom.js","loc":{"line":27,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/globalMouseMoveMonitor.js","loc":{"line":28,"column":64},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/globalMouseMoveMonitor.js"},{"name":"../../../base/common/event.js","loc":{"line":29,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":30,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"./lightBulbWidget.css","loc":{"line":31,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.css"},{"name":"../../common/model/textModel.js","loc":{"line":32,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"},{"name":"../../../nls.js","loc":{"line":33,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../platform/keybinding/common/keybinding.js","loc":{"line":34,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":35,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":36,"column":76},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../base/browser/touch.js","loc":{"line":37,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/touch.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LightBulbWidget=void 0;var e=l(require(\"../../../base/browser/dom.js\")),t=require(\"../../../base/browser/globalMouseMoveMonitor.js\"),i=require(\"../../../base/common/event.js\"),o=require(\"../../../base/common/lifecycle.js\");require(\"./lightBulbWidget.css\");var n=require(\"../../common/model/textModel.js\"),r=l(require(\"../../../nls.js\")),s=require(\"../../../platform/keybinding/common/keybinding.js\"),d=require(\"../../../platform/theme/common/themeService.js\"),u=require(\"../../../platform/theme/common/colorRegistry.js\"),c=require(\"../../../base/browser/touch.js\");function a(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=o?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}var p,f=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),g=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=function(e,t){return function(i,o){t(i,o,e)}};!function(e){e.Hidden={type:0};var t=function(){return function(e,t,i){this.actions=e,this.editorPosition=t,this.widgetPosition=i,this.type=1}}();e.Showing=t}(p||(p={}));var b=function(o){function d(n,r,s,d){var u=o.call(this)||this;return u._editor=n,u._quickFixActionId=r,u._preferredFixActionId=s,u._keybindingService=d,u._onClick=u._register(new i.Emitter),u.onClick=u._onClick.event,u._state=p.Hidden,u._domNode=document.createElement(\"div\"),u._domNode.className=\"codicon codicon-lightbulb\",u._editor.addContentWidget(u),u._register(u._editor.onDidChangeModelContent(function(e){var t=u._editor.getModel();(1!==u.state.type||!t||u.state.editorPosition.lineNumber>=t.getLineCount())&&u.hide()})),c.Gesture.ignoreTarget(u._domNode),u._register(e.addStandardDisposableGenericMouseDownListner(u._domNode,function(t){if(1===u.state.type){u._editor.focus(),t.preventDefault();var i=e.getDomNodePagePosition(u._domNode),o=i.top,n=i.height,r=u._editor.getOption(47),s=Math.floor(r/3);null!==u.state.widgetPosition.position&&u.state.widgetPosition.position.lineNumber<u.state.editorPosition.lineNumber&&(s+=r),u._onClick.fire({x:t.posx,y:o+n+s,actions:u.state.actions})}})),u._register(e.addDisposableListener(u._domNode,\"mouseenter\",function(e){if(1==(1&e.buttons)){u.hide();var i=new t.GlobalMouseMoveMonitor;i.startMonitoring(t.standardMouseMoveMerger,function(){},function(){i.dispose()})}})),u._register(u._editor.onDidChangeConfiguration(function(e){e.hasChanged(45)&&!u._editor.getOption(45).enabled&&u.hide()})),u._updateLightBulbTitle(),u._register(u._keybindingService.onDidUpdateKeybindings(u._updateLightBulbTitle,u)),u}return f(d,o),d.prototype.dispose=function(){o.prototype.dispose.call(this),this._editor.removeContentWidget(this)},d.prototype.getId=function(){return\"LightBulbWidget\"},d.prototype.getDomNode=function(){return this._domNode},d.prototype.getPosition=function(){return 1===this._state.type?this._state.widgetPosition:null},d.prototype.update=function(t,i){var o=this;if(t.validActions.length<=0)return this.hide();var r=this._editor.getOptions();if(!r.get(45).enabled)return this.hide();var s=i.lineNumber,u=i.column,c=this._editor.getModel();if(!c)return this.hide();var a=c.getOptions().tabSize,l=r.get(32),f=c.getLineContent(s),g=n.TextModel.computeIndentLevel(f,a),h=function(e){return e>2&&o._editor.getTopForLineNumber(e)===o._editor.getTopForLineNumber(e-1)},b=s;if(!(l.spaceWidth*g>22))if(s>1&&!h(s-1))b-=1;else if(h(s+1)){if(u*l.spaceWidth<22)return this.hide()}else b+=1;this.state=new p.Showing(t,i,{position:{lineNumber:b,column:1},preference:d._posPref}),e.toggleClass(this._domNode,\"codicon-lightbulb-autofix\",t.hasAutoFix),this._editor.layoutContentWidget(this)},d.prototype.hide=function(){this.state=p.Hidden,this._editor.layoutContentWidget(this)},Object.defineProperty(d.prototype,\"state\",{get:function(){return this._state},set:function(e){this._state=e,this._updateLightBulbTitle()},enumerable:!0,configurable:!0}),d.prototype._updateLightBulbTitle=function(){if(1===this.state.type&&this.state.actions.hasAutoFix){var e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=r.localize(\"prefferedQuickFixWithKb\",\"Show Fixes. Preferred Fix Available ({0})\",e.getLabel()))}var t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?r.localize(\"quickFixWithKb\",\"Show Fixes ({0})\",t.getLabel()):r.localize(\"quickFix\",\"Show Fixes\")},Object.defineProperty(d.prototype,\"title\",{set:function(e){this._domNode.title=e},enumerable:!0,configurable:!0}),d._posPref=[0],d=g([h(3,s.IKeybindingService)],d)}(o.Disposable);exports.LightBulbWidget=b,(0,d.registerThemingParticipant)(function(e,t){var i=e.getColor(u.editorLightBulbForeground);i&&t.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb,\\n\\t\\t.monaco-workbench .markers-panel-container .codicon-lightbulb {\\n\\t\\t\\tcolor: \"+i+\";\\n\\t\\t}\");var o=e.getColor(u.editorLightBulbAutoFixForeground);o&&t.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb-autofix,\\n\\t\\t.monaco-workbench .markers-panel-container .codicon-lightbulb-autofix {\\n\\t\\t\\tcolor: \"+o+\";\\n\\t\\t}\")});"},"sourceMaps":null,"error":null,"hash":"68816f302f0bd922429ded12f098b29e","cacheData":{"env":{}}}