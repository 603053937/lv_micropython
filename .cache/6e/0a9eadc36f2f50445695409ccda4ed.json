{"id":"IbPY","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607286873532},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607286873524},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607287523892},{"name":"./tree.js","loc":{"line":12,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/tree.js"},{"name":"../../../common/arrays.js","loc":{"line":13,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../../common/event.js","loc":{"line":14,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../common/iterator.js","loc":{"line":15,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/iterator.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isFilterResult=n,exports.getVisibleState=l,exports.IndexTreeModel=void 0;var e=require(\"./tree.js\"),t=require(\"../../../common/arrays.js\"),r=require(\"../../../common/event.js\"),i=require(\"../../../common/iterator.js\"),o=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<r;t++)for(var n=arguments[t],l=0,d=n.length;l<d;l++,o++)i[o]=n[l];return i};function n(e){return\"object\"==typeof e&&\"visibility\"in e&&\"data\"in e}function l(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function d(e){return\"boolean\"==typeof e.collapsible}var s=function(){function s(e,t,i,o){void 0===o&&(o={}),this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new r.EventBufferer,this._onDidChangeCollapseState=new r.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new r.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new r.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==o.collapseByDefault&&o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren=void 0!==o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return s.prototype.splice=function(t,r,n,l,d){var s,a=this;if(0===t.length)throw new e.TreeError(this.user,\"Invalid tree location\");for(var h=this.getParentNodeWithListIndex(t),p=h.parentNode,u=h.listIndex,c=h.revealed,v=h.visible,f=[],C=i.Iterator.map(i.Iterator.from(n),function(e){return a.createTreeNode(e,p,p.visible?1:0,c,f,l)}),g=t[t.length-1],N=0,b=g;b>=0&&b<p.children.length;b--){if((E=p.children[b]).visible){N=E.visibleChildIndex;break}}var y=[],x=0,I=0;i.Iterator.forEach(C,function(e){y.push(e),I+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=N+x++)});for(var _=(s=p.children).splice.apply(s,o([g,r],y)),D=0,S=0,T=_;S<T.length;S++){(E=T[S]).visible&&D++}if(0!==D)for(b=g+y.length;b<p.children.length;b++){var E;(E=p.children[b]).visible&&(E.visibleChildIndex-=D)}if(p.visibleChildrenCount+=x-D,c&&v){var m=_.reduce(function(e,t){return e+(t.visible?t.renderNodeCount:0)},0);this._updateAncestorsRenderNodeCount(p,I-m),this.list.splice(u,m,f)}if(_.length>0&&d){var w=function(e){d(e),e.children.forEach(w)};_.forEach(w)}this._onDidSplice.fire({insertedNodes:y,deletedNodes:_})},s.prototype.rerender=function(t){if(0===t.length)throw new e.TreeError(this.user,\"Invalid tree location\");var r=this.getTreeNodeWithListIndex(t),i=r.node,o=r.listIndex;r.revealed&&this.list.splice(o,1,[i])},s.prototype.getListIndex=function(e){var t=this.getTreeNodeWithListIndex(e),r=t.listIndex,i=t.visible,o=t.revealed;return i&&o?r:-1},s.prototype.getListRenderCount=function(e){return this.getTreeNode(e).renderNodeCount},s.prototype.setCollapsible=function(e,t){var r=this,i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);var o={collapsible:t};return this.eventBufferer.bufferEvents(function(){return r._setCollapseState(e,o)})},s.prototype.isCollapsed=function(e){return this.getTreeNode(e).collapsed},s.prototype.setCollapsed=function(e,t,r){var i=this,o=this.getTreeNode(e);void 0===t&&(t=!o.collapsed);var n={collapsed:t,recursive:r||!1};return this.eventBufferer.bufferEvents(function(){return i._setCollapseState(e,n)})},s.prototype._setCollapseState=function(e,t){var r=this.getTreeNodeWithListIndex(e),i=r.node,n=r.listIndex,l=r.revealed,s=this._setListNodeCollapseState(i,n,l,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!d(t)&&i.collapsible&&!i.collapsed&&!t.recursive){for(var a=-1,h=0;h<i.children.length;h++){if(i.children[h].visible){if(a>-1){a=-1;break}a=h}}a>-1&&this._setCollapseState(o(e,[a]),t)}return s},s.prototype._setListNodeCollapseState=function(e,t,r,i){var o=this._setNodeCollapseState(e,i,!1);if(!r||!e.visible||!o)return o;var n=e.renderNodeCount,l=this.updateNodeAfterCollapseChange(e),d=n-(-1===t?0:1);return this.list.splice(t+1,d,l.slice(1)),o},s.prototype._setNodeCollapseState=function(e,t,r){var i;if(e===this.root?i=!1:(d(t)?(i=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):(i=e.collapsed!==t.collapsed,e.collapsed=t.collapsed),i&&this._onDidChangeCollapseState.fire({node:e,deep:r})),!d(t)&&t.recursive)for(var o=0,n=e.children;o<n.length;o++){var l=n[o];i=this._setNodeCollapseState(l,t,!0)||i}return i},s.prototype.expandTo=function(e){var t=this;this.eventBufferer.bufferEvents(function(){for(var r=t.getTreeNode(e);r.parent;)r=r.parent,e=e.slice(0,e.length-1),r.collapsed&&t._setCollapseState(e,{collapsed:!1,recursive:!1})})},s.prototype.refilter=function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)},s.prototype.createTreeNode=function(e,t,r,o,n,l){var d=this,s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:\"boolean\"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},a=this._filterNode(s,r);o&&n.push(s);var h=i.Iterator.from(e.children),p=o&&0!==a&&!s.collapsed,u=i.Iterator.map(h,function(e){return d.createTreeNode(e,s,a,p,n,l)}),c=0,v=1;return i.Iterator.forEach(u,function(e){s.children.push(e),v+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=c++)}),s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=c,s.visible=2===a?c>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=v):(s.renderNodeCount=0,o&&n.pop()),l&&l(s),s},s.prototype.updateNodeAfterCollapseChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(e,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},s.prototype._updateNodeAfterCollapseChange=function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(var r=0,i=e.children;r<i.length;r++){var o=i[r];e.renderNodeCount+=this._updateNodeAfterCollapseChange(o,t)}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount},s.prototype.updateNodeAfterFilterChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},s.prototype._updateNodeAfterFilterChange=function(e,t,r,i){var o;if(void 0===i&&(i=!0),e!==this.root){if(0===(o=this._filterNode(e,t)))return e.visible=!1,e.renderNodeCount=0,!1;i&&r.push(e)}var n=r.length;e.renderNodeCount=e===this.root?0:1;var l=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{for(var d=0,s=0,a=e.children;s<a.length;s++){var h=a[s];l=this._updateNodeAfterFilterChange(h,o,r,i&&!e.collapsed)||l,h.visible&&(h.visibleChildIndex=d++)}e.visibleChildrenCount=d}return e!==this.root&&(e.visible=2===o?l:1===o),e.visible?e.collapsed||(e.renderNodeCount+=r.length-n):(e.renderNodeCount=0,i&&r.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible},s.prototype._updateAncestorsRenderNodeCount=function(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent},s.prototype._filterNode=function(e,t){var r=this.filter?this.filter.filter(e.element,t):1;return\"boolean\"==typeof r?(e.filterData=void 0,r?1:0):n(r)?(e.filterData=r.data,l(r.visibility)):(e.filterData=void 0,l(r))},s.prototype.getTreeNode=function(t,r){if(void 0===r&&(r=this.root),!t||0===t.length)return r;var i=t[0],o=t.slice(1);if(i<0||i>r.children.length)throw new e.TreeError(this.user,\"Invalid tree location\");return this.getTreeNode(o,r.children[i])},s.prototype.getTreeNodeWithListIndex=function(t){if(0===t.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var r=this.getParentNodeWithListIndex(t),i=r.parentNode,o=r.listIndex,n=r.revealed,l=r.visible,d=t[t.length-1];if(d<0||d>i.children.length)throw new e.TreeError(this.user,\"Invalid tree location\");var s=i.children[d];return{node:s,listIndex:o,revealed:n,visible:l&&s.visible}},s.prototype.getParentNodeWithListIndex=function(t,r,i,o,n){void 0===r&&(r=this.root),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===n&&(n=!0);var l=t[0],d=t.slice(1);if(l<0||l>r.children.length)throw new e.TreeError(this.user,\"Invalid tree location\");for(var s=0;s<l;s++)i+=r.children[s].renderNodeCount;return o=o&&!r.collapsed,n=n&&r.visible,0===d.length?{parentNode:r,listIndex:i,revealed:o,visible:n}:this.getParentNodeWithListIndex(d,r.children[l],i+1,o,n)},s.prototype.getNode=function(e){return void 0===e&&(e=[]),this.getTreeNode(e)},s.prototype.getNodeLocation=function(e){for(var t=[],r=e;r.parent;)t.push(r.parent.children.indexOf(r)),r=r.parent;return t.reverse()},s.prototype.getParentNodeLocation=function(e){return 0===e.length?void 0:1===e.length?[]:(0,t.tail2)(e)[0]},s}();exports.IndexTreeModel=s;"},"sourceMaps":null,"error":null,"hash":"6fbe71908f654af4aa0370127fbe7184","cacheData":{"env":{}}}