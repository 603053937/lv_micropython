{"id":"lRc2","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608846679099},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608846679095},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608846860992},{"name":"../../../base/common/arrays.js","loc":{"line":5,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":6,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/strings.js","loc":{"line":7,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/strings.js"},{"name":"./snippetSession.css","loc":{"line":8,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.css"},{"name":"../../common/core/editOperation.js","loc":{"line":9,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/editOperation.js"},{"name":"../../common/core/range.js","loc":{"line":10,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/selection.js","loc":{"line":11,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"../../common/model/textModel.js","loc":{"line":12,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"},{"name":"../../../platform/clipboard/common/clipboardService.js","loc":{"line":13,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js"},{"name":"../../../platform/workspace/common/workspace.js","loc":{"line":14,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/workspace/common/workspace.js"},{"name":"../../../platform/instantiation/common/instantiation.js","loc":{"line":15,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js"},{"name":"./snippetParser.js","loc":{"line":16,"column":57},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetParser.js"},{"name":"./snippetVariables.js","loc":{"line":17,"column":259},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetVariables.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":18,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":19,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../platform/label/common/label.js","loc":{"line":20,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/label/common/label.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SnippetSession=exports.OneSnippet=void 0;var e=require(\"../../../base/common/arrays.js\"),t=require(\"../../../base/common/lifecycle.js\"),o=require(\"../../../base/common/strings.js\");require(\"./snippetSession.css\");var i=require(\"../../common/core/editOperation.js\"),r=require(\"../../common/core/range.js\"),n=require(\"../../common/core/selection.js\"),s=require(\"../../common/model/textModel.js\"),a=require(\"../../../platform/clipboard/common/clipboardService.js\"),l=require(\"../../../platform/workspace/common/workspace.js\"),p=require(\"../../../platform/instantiation/common/instantiation.js\"),c=require(\"./snippetParser.js\"),d=require(\"./snippetVariables.js\"),h=require(\"../../../platform/theme/common/themeService.js\"),u=_(require(\"../../../platform/theme/common/colorRegistry.js\")),g=require(\"../../../platform/label/common/label.js\");function f(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=i?Object.getOwnPropertyDescriptor(e,r):null;n&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}(0,h.registerThemingParticipant)(function(e,t){function o(t){var o=e.getColor(t);return o?o.toString():\"transparent\"}t.addRule(\".monaco-editor .snippet-placeholder { background-color: \"+o(u.snippetTabstopHighlightBackground)+\"; outline-color: \"+o(u.snippetTabstopHighlightBorder)+\"; }\"),t.addRule(\".monaco-editor .finish-snippet-placeholder { background-color: \"+o(u.snippetFinalTabstopHighlightBackground)+\"; outline-color: \"+o(u.snippetFinalTabstopHighlightBorder)+\"; }\")});var v=function(){function t(t,o,i){this._nestingLevel=1,this._editor=t,this._snippet=o,this._offset=i,this._placeholderGroups=(0,e.groupBy)(o.placeholders,c.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}return t.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach(function(t){return e.push(t)}),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},t.prototype._initDecorations=function(){var e=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var o=this._editor.getModel();this._editor.changeDecorations(function(i){for(var n=0,s=e._snippet.placeholders;n<s.length;n++){var a=s[n],l=e._snippet.offset(a),p=e._snippet.fullLen(a),c=r.Range.fromPositions(o.getPositionAt(e._offset+l),o.getPositionAt(e._offset+l+p)),d=a.isFinalTabstop?t._decor.inactiveFinal:t._decor.inactive,h=i.addDecoration(c,d);e._placeholderDecorations.set(a,h)}})}},t.prototype.move=function(e){var o=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var r=[],s=0,a=this._placeholderGroups[this._placeholderGroupsIdx];s<a.length;s++){var l=a[s];if(l.transform){var p=this._placeholderDecorations.get(l),c=this._editor.getModel().getDecorationRange(p),d=this._editor.getModel().getValueInRange(c);r.push(i.EditOperation.replaceMove(c,l.transform.resolve(d)))}}r.length>0&&this._editor.executeEdits(\"snippet.placeholderTransform\",r)}var h=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);var u=this._editor.getModel().changeDecorations(function(e){for(var i=new Set,r=[],s=0,a=o._placeholderGroups[o._placeholderGroupsIdx];s<a.length;s++){var l=a[s],p=o._placeholderDecorations.get(l),c=o._editor.getModel().getDecorationRange(p);r.push(new n.Selection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),h=h&&o._hasPlaceholderBeenCollapsed(l),e.changeDecorationOptions(p,l.isFinalTabstop?t._decor.activeFinal:t._decor.active),i.add(l);for(var d=0,u=o._snippet.enclosingPlaceholders(l);d<u.length;d++){var g=u[d],f=o._placeholderDecorations.get(g);e.changeDecorationOptions(f,g.isFinalTabstop?t._decor.activeFinal:t._decor.active),i.add(g)}}return o._placeholderDecorations.forEach(function(o,r){i.has(r)||e.changeDecorationOptions(o,r.isFinalTabstop?t._decor.inactiveFinal:t._decor.inactive)}),r});return h?this.move(e):u},t.prototype._hasPlaceholderBeenCollapsed=function(e){for(var t=e;t;){if(t instanceof c.Placeholder){var o=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(o).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(t.prototype,\"isAtFirstPlaceholder\",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isAtLastPlaceholder\",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hasPlaceholder\",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),t.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,o=this._placeholderGroups;t<o.length;t++)for(var i=void 0,r=0,n=o[t];r<n.length;r++){var s=n[r];if(s.isFinalTabstop)break;i||(i=[],e.set(s.index,i));var a=this._placeholderDecorations.get(s),l=this._editor.getModel().getDecorationRange(a);if(!l){e.delete(s.index);break}i.push(l)}return e},Object.defineProperty(t.prototype,\"choice\",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),t.prototype.merge=function(o){var i=this,n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(s){for(var a=0,l=i._placeholderGroups[i._placeholderGroupsIdx];a<l.length;a++){var p=l[a],d=o.shift();console.assert(!d._placeholderDecorations);for(var h=d._snippet.placeholderInfo.last.index,u=0,g=d._snippet.placeholderInfo.all;u<g.length;u++){var f=g[u];f.isFinalTabstop?f.index=p.index+(h+1)/i._nestingLevel:f.index=p.index+f.index/i._nestingLevel}i._snippet.replace(p,d._snippet.children);var _=i._placeholderDecorations.get(p);s.removeDecoration(_),i._placeholderDecorations.delete(p);for(var v=0,m=d._snippet.placeholders;v<m.length;v++){var b=m[v],P=d._snippet.offset(b),y=d._snippet.fullLen(b),S=r.Range.fromPositions(n.getPositionAt(d._offset+P),n.getPositionAt(d._offset+P+y)),x=s.addDecoration(S,t._decor.inactive);i._placeholderDecorations.set(b,x)}}i._placeholderGroups=(0,e.groupBy)(i._snippet.placeholders,c.Placeholder.compareByIndex)})},t._decor={active:s.ModelDecorationOptions.register({stickiness:0,className:\"snippet-placeholder\"}),inactive:s.ModelDecorationOptions.register({stickiness:1,className:\"snippet-placeholder\"}),activeFinal:s.ModelDecorationOptions.register({stickiness:1,className:\"finish-snippet-placeholder\"}),inactiveFinal:s.ModelDecorationOptions.register({stickiness:1,className:\"finish-snippet-placeholder\"})},t}();exports.OneSnippet=v;var m={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},b=function(){function e(e,t,o){void 0===o&&(o=m),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=o}return e.adjustWhitespace=function(e,t,i,r,n){var s=e.getLineContent(t.lineNumber),a=(0,o.getLeadingWhitespace)(s,0,t.column-1);i.walk(function(t){if(t instanceof c.Text&&!(t.parent instanceof c.Choice)){var i=t.value.split(/\\r\\n|\\r|\\n/);if(r)for(var s=1;s<i.length;s++){var l=(0,o.getLeadingWhitespace)(i[s]);i[s]=e.normalizeIndentation(a+l)+i[s].substr(l.length)}if(n){var p=i.join(e.getEOL());p!==t.value&&t.parent.replace(t,[new c.Text(p)])}}return!0})},e.adjustSelection=function(e,t,o,i){if(0!==o||0!==i){var r=t.positionLineNumber,s=t.positionColumn,a=s-o,l=s+i,p=e.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});t=n.Selection.createWithDirection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn,t.getDirection())}return t},e.createEditsAndSnippets=function(t,o,n,s,h,u,f){var _=[],m=[];if(!t.hasModel())return{edits:_,snippets:m};for(var b=t.getModel(),P=t.invokeWithinContext(function(e){return e.get(l.IWorkspaceContextService,p.optional)}),y=t.invokeWithinContext(function(e){return new d.ModelBasedVariableResolver(e.get(g.ILabelService,p.optional),b)}),S=t.invokeWithinContext(function(e){return e.get(a.IClipboardService,p.optional)}),x=function(){return f||S&&S.readTextSync()},j=0,D=b.getValueInRange(e.adjustSelection(b,t.getSelection(),n,0)),R=b.getValueInRange(e.adjustSelection(b,t.getSelection(),0,s)),O=b.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),I=t.getSelections().map(function(e,t){return{selection:e,idx:t}}).sort(function(e,t){return r.Range.compareRangesUsingStarts(e.selection,t.selection)}),w=0,M=I;w<M.length;w++){var L=M[w],C=L.selection,G=L.idx,k=e.adjustSelection(b,C,n,0),B=e.adjustSelection(b,C,0,s);D!==b.getValueInRange(k)&&(k=C),R!==b.getValueInRange(B)&&(B=C);var F=C.setStartPosition(k.startLineNumber,k.startColumn).setEndPosition(B.endLineNumber,B.endColumn),T=(new c.SnippetParser).parse(o,!0,h),E=F.getStartPosition();e.adjustWhitespace(b,E,T,u||G>0&&O!==b.getLineFirstNonWhitespaceColumn(C.positionLineNumber),!0),T.resolveVariables(new d.CompositeSnippetVariableResolver([y,new d.ClipboardBasedVariableResolver(x,G,I.length,\"spread\"===t.getOption(58)),new d.SelectionBasedVariableResolver(b,C),new d.CommentBasedVariableResolver(b),new d.TimeBasedVariableResolver,new d.WorkspaceBasedVariableResolver(P),new d.RandomBasedVariableResolver]));var N=b.getOffsetAt(E)+j;j+=T.toString().length-b.getValueLengthInRange(F),_[G]=i.EditOperation.replace(F,T.toString()),m[G]=new v(t,T,N)}return{edits:_,snippets:m}},e.prototype.dispose=function(){(0,t.dispose)(this._snippets)},e.prototype._logInfo=function(){return'template=\"'+this._template+'\", merged_templates=\"'+this._templateMerges.join(\" -> \")+'\"'},e.prototype.insert=function(){var t=this;if(this._editor.hasModel()){var o=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),i=o.edits,r=o.snippets;this._snippets=r,this._editor.executeEdits(\"snippet\",i,function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.map(function(e){return n.Selection.fromPositions(e.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}},e.prototype.merge=function(t,o){var i=this;if(void 0===o&&(o=m),this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var r=e.createEditsAndSnippets(this._editor,t,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText),s=r.edits,a=r.snippets;this._editor.executeEdits(\"snippet\",s,function(e){for(var t=0,o=i._snippets;t<o.length;t++){o[t].merge(a)}return console.assert(0===a.length),i._snippets[0].hasPlaceholder?i._move(void 0):e.map(function(e){return n.Selection.fromPositions(e.range.getEndPosition())})})}},e.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype._move=function(e){for(var t=[],o=0,i=this._snippets;o<i.length;o++){var r=i[o].move(e);t.push.apply(t,r)}return t},Object.defineProperty(e.prototype,\"isAtFirstPlaceholder\",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isAtLastPlaceholder\",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"hasPlaceholder\",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"choice\",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),e.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,o=function(o){var i=o.computePossibleSelections();if(0===t.size&&i.forEach(function(o,i){o.sort(r.Range.compareRangesUsingStarts);for(var n=0,s=e;n<s.length;n++){var a=s[n];if(o[0].containsRange(a)){t.set(i,[]);break}}}),0===t.size)return{value:!1};t.forEach(function(e,t){e.push.apply(e,i.get(t))})},i=0,n=this._snippets;i<n.length;i++){var s=o(n[i]);if(\"object\"==typeof s)return s.value}return e.sort(r.Range.compareRangesUsingStarts),t.forEach(function(o,i){if(o.length===e.length){o.sort(r.Range.compareRangesUsingStarts);for(var n=0;n<o.length;n++)if(!o[n].containsRange(e[n]))return void t.delete(i)}else t.delete(i)}),t.size>0},e}();exports.SnippetSession=b;"},"sourceMaps":null,"error":null,"hash":"c2d95d55c1bc9e061e591b88a90a4845","cacheData":{"env":{}}}