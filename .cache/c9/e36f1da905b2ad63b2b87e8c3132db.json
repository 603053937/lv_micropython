{"id":"r3Z4","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607046859852},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607046859848},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607047108423},{"name":"./media/tree.css","loc":{"line":36,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/media/tree.css"},{"name":"../../../common/lifecycle.js","loc":{"line":37,"column":67},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../list/listWidget.js","loc":{"line":38,"column":73},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js"},{"name":"../../dom.js","loc":{"line":39,"column":152},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../common/event.js","loc":{"line":40,"column":53},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../keyboardEvent.js","loc":{"line":41,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js"},{"name":"../../dnd.js","loc":{"line":42,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dnd.js"},{"name":"../../../common/arrays.js","loc":{"line":43,"column":52},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../list/listView.js","loc":{"line":44,"column":40},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js"},{"name":"../../event.js","loc":{"line":45,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/event.js"},{"name":"../../../common/filters.js","loc":{"line":46,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/filters.js"},{"name":"./indexTreeModel.js","loc":{"line":47,"column":48},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js"},{"name":"../../../../nls.js","loc":{"line":48,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../common/async.js","loc":{"line":49,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../common/platform.js","loc":{"line":50,"column":28},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"../../../common/map.js","loc":{"line":51,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/map.js"},{"name":"../../../common/numbers.js","loc":{"line":52,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/numbers.js"},{"name":"../../../common/collections.js","loc":{"line":53,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/collections.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AbstractTree=exports.RenderIndentGuides=exports.ComposedTreeDelegate=void 0,require(\"./media/tree.css\");var e=require(\"../../../common/lifecycle.js\"),t=require(\"../list/listWidget.js\"),i=require(\"../../dom.js\"),n=require(\"../../../common/event.js\"),o=require(\"../../keyboardEvent.js\"),r=require(\"../../dnd.js\"),s=require(\"../../../common/arrays.js\"),a=require(\"../list/listView.js\"),d=require(\"../../event.js\"),l=require(\"../../../common/filters.js\"),p=require(\"./indexTreeModel.js\"),h=require(\"../../../../nls.js\"),u=require(\"../../../common/async.js\"),c=require(\"../../../common/platform.js\"),f=require(\"../../../common/map.js\"),v=require(\"../../../common/numbers.js\"),g=require(\"../../../common/collections.js\"),m=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),y=function(){return(y=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},D=function(e){function t(t){var i=e.call(this,t.elements.map(function(e){return e.element}))||this;return i.data=t,i}return m(t,e),t}(a.ElementsDragAndDropData);function N(e){return e instanceof a.ElementsDragAndDropData?new D(e):e}var w=function(){function t(t,i){this.modelProvider=t,this.dnd=i,this.autoExpandDisposable=e.Disposable.None}return t.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},t.prototype.getDragLabel=function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(e){return e.element}),t)},t.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(N(e),t)},t.prototype.onDragOver=function(e,t,i,n,o){var r=this;void 0===o&&(o=!0);var a=this.dnd.onDragOver(N(e),t&&t.element,i,n),d=this.autoExpandNode!==t;if(d&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return a;if(d&&\"boolean\"!=typeof a&&a.autoExpand&&(this.autoExpandDisposable=(0,u.disposableTimeout)(function(){var e=r.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),r.autoExpandNode=void 0},500)),\"boolean\"==typeof a||!a.accept||void 0===a.bubble||a.feedback)return o?a:{accept:\"boolean\"==typeof a?a:a.accept,effect:\"boolean\"==typeof a?void 0:a.effect,feedback:[i]};if(1===a.bubble){var l=this.modelProvider(),p=l.getNodeLocation(t),h=l.getParentNodeLocation(p),c=l.getNode(h),f=h&&l.getListIndex(h);return this.onDragOver(e,c,f,n,!1)}var v=this.modelProvider(),g=v.getNodeLocation(t),m=v.getListIndex(g),b=v.getListRenderCount(g);return y(y({},a),{feedback:(0,s.range)(m,m+b)})},t.prototype.drop=function(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(N(e),t&&t.element,i,n)},t.prototype.onDragEnd=function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},t}();function C(e,t){return t&&y(y({},t),{identityProvider:t.identityProvider&&{getId:function(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new w(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return t.multipleSelectionController.isSelectionSingleChangeEvent(y(y({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return t.multipleSelectionController.isSelectionRangeChangeEvent(y(y({},e),{element:e.element}))}},accessibilityProvider:t.accessibilityProvider&&y(y({},t.accessibilityProvider),{getAriaLabel:function(e){return t.accessibilityProvider.getAriaLabel(e.element)},getAriaLevel:function(e){return e.depth},getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&function(e){return t.accessibilityProvider.getActiveDescendantId(e.element)}}),keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&y(y({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),enableKeyboardNavigation:t.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(t){var i=e(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1}}})}var E,S=function(){function e(e){this.delegate=e}return e.prototype.getHeight=function(e){return this.delegate.getHeight(e.element)},e.prototype.getTemplateId=function(e){return this.delegate.getTemplateId(e.element)},e.prototype.hasDynamicHeight=function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)},e.prototype.setDynamicHeight=function(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)},e}();exports.ComposedTreeDelegate=S,exports.RenderIndentGuides=E,function(e){e.None=\"none\",e.OnHover=\"onHover\",e.Always=\"always\"}(E||(exports.RenderIndentGuides=E={}));var T=function(){function e(e,t){var i=this;void 0===t&&(t=[]),this._elements=t,this.onDidChange=n.Event.forEach(e,function(e){return i._elements=e})}return Object.defineProperty(e.prototype,\"elements\",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e}(),O=function(){function t(i,o,r,s,a){void 0===a&&(a={}),this.renderer=i,this.modelProvider=o,this.activeNodes=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=t.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new g.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=e.Disposable.None,this.disposables=new e.DisposableStore,this.templateId=i.templateId,this.updateOptions(a),n.Event.map(r,function(e){return e.node})(this.onDidChangeNodeTwistieState,this,this.disposables),i.onDidChangeTwistieState&&i.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return t.prototype.updateOptions=function(t){if(void 0===t&&(t={}),void 0!==t.indent&&(this.indent=(0,v.clamp)(t.indent,0,40)),void 0!==t.renderIndentGuides){var i=t.renderIndentGuides!==E.None;if(i!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=i,this.indentGuidesDisposable.dispose(),i)){var n=new e.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,n),this.indentGuidesDisposable=n,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==t.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=t.hideTwistiesOfChildlessElements)},t.prototype.renderTemplate=function(t){var n=(0,i.append)(t,(0,i.$)(\".monaco-tl-row\")),o=(0,i.append)(n,(0,i.$)(\".monaco-tl-indent\")),r=(0,i.append)(n,(0,i.$)(\".monaco-tl-twistie\")),s=(0,i.append)(n,(0,i.$)(\".monaco-tl-contents\")),a=this.renderer.renderTemplate(s);return{container:t,indent:o,twistie:r,indentGuidesDisposable:e.Disposable.None,templateData:a}},t.prototype.renderElement=function(e,i,n,o){\"number\"==typeof o&&(this.renderedNodes.set(e,{templateData:n,height:o}),this.renderedElements.set(e.element,e));var r=t.DefaultIndent+(e.depth-1)*this.indent;n.twistie.style.paddingLeft=r+\"px\",n.indent.style.width=r+this.indent-16+\"px\",this.renderTwistie(e,n),\"number\"==typeof o&&this.renderIndentGuides(e,n),this.renderer.renderElement(e,i,n.templateData,o)},t.prototype.disposeElement=function(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),\"number\"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))},t.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},t.prototype.onDidChangeTwistieState=function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)},t.prototype.onDidChangeNodeTwistieState=function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))},t.prototype.renderTwistie=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?((0,i.addClasses)(t.twistie,\"codicon\",\"codicon-chevron-down\",\"collapsible\"),(0,i.toggleClass)(t.twistie,\"collapsed\",e.collapsed)):(0,i.removeClasses)(t.twistie,\"codicon\",\"codicon-chevron-down\",\"collapsible\",\"collapsed\"),e.collapsible?t.container.setAttribute(\"aria-expanded\",String(!e.collapsed)):t.container.removeAttribute(\"aria-expanded\")},t.prototype.renderIndentGuides=function(t,n){var o=this;if((0,i.clearNode)(n.indent),n.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){for(var r=new e.DisposableStore,s=this.modelProvider(),a=t,d=function(){var t=s.getNodeLocation(a),d=s.getParentNodeLocation(t);if(!d)return\"break\";var p=s.getNode(d),h=(0,i.$)(\".indent-guide\",{style:\"width: \"+l.indent+\"px\"});l.activeIndentNodes.has(p)&&(0,i.addClass)(h,\"active\"),0===n.indent.childElementCount?n.indent.appendChild(h):n.indent.insertBefore(h,n.indent.firstElementChild),l.renderedIndentGuides.add(p,h),r.add((0,e.toDisposable)(function(){return o.renderedIndentGuides.delete(p,h)})),a=p},l=this;;){if(\"break\"===d())break}n.indentGuidesDisposable=r}},t.prototype._onDidChangeActiveNodes=function(e){var t=this;if(this.shouldRenderIndentGuides){var n=new Set,o=this.modelProvider();e.forEach(function(e){var t=o.getNodeLocation(e);try{var i=o.getParentNodeLocation(t);e.collapsible&&e.children.length>0&&!e.collapsed?n.add(e):i&&n.add(o.getNode(i))}catch(r){}}),this.activeIndentNodes.forEach(function(e){n.has(e)||t.renderedIndentGuides.forEach(e,function(e){return(0,i.removeClass)(e,\"active\")})}),n.forEach(function(e){t.activeIndentNodes.has(e)||t.renderedIndentGuides.forEach(e,function(e){return(0,i.addClass)(e,\"active\")})}),this.activeIndentNodes=n}},t.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,e.dispose)(this.disposables)},t.DefaultIndent=8,t}(),_=function(){function t(t,i,n){this.tree=t,this.keyboardNavigationLabelProvider=i,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern=\"\",this._lowercasePattern=\"\",this.disposables=new e.DisposableStore,t.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(t.prototype,\"totalCount\",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"matchCount\",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pattern\",{set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()},enumerable:!0,configurable:!0}),t.prototype.filter=function(e,t){if(this._filter){var i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;if(0===(\"boolean\"==typeof i?i?1:0:(0,p.isFilterResult)(i)?(0,p.getVisibleState)(i.visibility):i))return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:l.FuzzyScore.Default,visibility:!0};var n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=n&&n.toString();if(void 0===o)return{data:l.FuzzyScore.Default,visibility:!0};var r=(0,l.fuzzyScore)(this._pattern,this._lowercasePattern,0,o,o.toLowerCase(),0,!0);return r?(this._matchCount++,{data:r,visibility:!0}):this.tree.options.filterOnType?2:{data:l.FuzzyScore.Default,visibility:!0}},t.prototype.reset=function(){this._totalCount=0,this._matchCount=0},t.prototype.dispose=function(){(0,e.dispose)(this.disposables)},t}(),P=function(){function t(t,o,r,s,a){this.tree=t,this.view=r,this.filter=s,this.keyboardNavigationDelegate=a,this._enabled=!1,this._pattern=\"\",this._empty=!1,this._onDidChangeEmptyState=new n.Emitter,this.positionClassName=\"ne\",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new n.Emitter,this.enabledDisposables=new e.DisposableStore,this.disposables=new e.DisposableStore,this.domNode=(0,i.$)(\".monaco-list-type-filter.\"+this.positionClassName),this.domNode.draggable=!0,(0,d.domEvent)(this.domNode,\"dragstart\")(this.onDragStart,this,this.disposables),this.messageDomNode=(0,i.append)(r.getHTMLElement(),(0,i.$)(\".monaco-list-type-filter-message\")),this.labelDomNode=(0,i.append)(this.domNode,(0,i.$)(\"span.label\"));var l=(0,i.append)(this.domNode,(0,i.$)(\".controls\"));this._filterOnType=!!t.options.filterOnType,this.filterOnTypeDomNode=(0,i.append)(l,(0,i.$)(\"input.filter.codicon.codicon-list-selection\")),this.filterOnTypeDomNode.type=\"checkbox\",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),(0,d.domEvent)(this.filterOnTypeDomNode,\"input\")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=(0,i.append)(l,(0,i.$)(\"button.clear.codicon.codicon-close\")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,h.localize)(\"clear\",\"Clear\"),this.keyboardNavigationEventFilter=t.options.keyboardNavigationEventFilter,o.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(t.options)}return Object.defineProperty(t.prototype,\"enabled\",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pattern\",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"filterOnType\",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput(\"\")},t.prototype.enable=function(){var e=this;if(!this._enabled){var t=n.Event.chain((0,d.domEvent)(this.view.getHTMLElement(),\"keydown\")).filter(function(t){return!I(t.target)||t.target===e.filterOnTypeDomNode}).filter(function(e){return\"Dead\"!==e.key&&!/^Media/.test(e.key)}).map(function(e){return new o.StandardKeyboardEvent(e)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).filter(function(t){return e.keyboardNavigationDelegate.mightProducePrintableCharacter(t)||(e.pattern.length>0||e.triggered)&&(9===t.keyCode||1===t.keyCode)&&!t.altKey&&!t.ctrlKey&&!t.metaKey||1===t.keyCode&&(c.isMacintosh?t.altKey&&!t.metaKey:t.ctrlKey)&&!t.shiftKey}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).event,i=(0,d.domEvent)(this.clearDomNode,\"click\");n.Event.chain(n.Event.any(t,i)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern=\"\",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},t.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},t.prototype.onEventOrInput=function(e){\"string\"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(c.isMacintosh?e.altKey:e.ctrlKey)?this.onInput(\"\"):1===e.keyCode?this.onInput(0===this.pattern.length?\"\":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},t.prototype.onInput=function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,function(e){return!l.FuzzyScore.isDefault(e.filterData)});var i=this.tree.getFocus();if(i.length>0){var n=i[0];null===this.tree.getRelativeTop(n)&&this.tree.reveal(n,.5)}this.render(),e||(this.triggered=!1)},t.prototype.onDragStart=function(){var t=this,n=this.view.getHTMLElement(),o=(0,i.getDomNodePagePosition)(n).left,s=n.clientWidth,a=s/2,l=this.domNode.clientWidth,p=new e.DisposableStore,h=this.positionClassName,u=function(){switch(h){case\"nw\":t.domNode.style.top=\"4px\",t.domNode.style.left=\"4px\";break;case\"ne\":t.domNode.style.top=\"4px\",t.domNode.style.left=s-l-6+\"px\"}};u(),(0,i.removeClass)(this.domNode,h),(0,i.addClass)(this.domNode,\"dragging\"),p.add((0,e.toDisposable)(function(){return(0,i.removeClass)(t.domNode,\"dragging\")})),(0,d.domEvent)(document,\"dragover\")(function(e){e.preventDefault();var t=e.screenX-o;e.dataTransfer&&(e.dataTransfer.dropEffect=\"none\"),h=t<a?\"nw\":\"ne\",u()},null,p),(0,d.domEvent)(this.domNode,\"dragend\")(function(){t.positionClassName=h,t.domNode.className=\"monaco-list-type-filter \"+t.positionClassName,t.domNode.style.top=\"\",t.domNode.style.left=\"\",(0,e.dispose)(p)},null,p),r.StaticDND.CurrentDragAndDropData=new r.DragAndDropData(\"vscode-ui\"),p.add((0,e.toDisposable)(function(){return r.StaticDND.CurrentDragAndDropData=void 0}))},t.prototype.onDidSpliceModel=function(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())},t.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},t.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=(0,h.localize)(\"disable filter on type\",\"Disable Filter on Type\"):this.filterOnTypeDomNode.title=(0,h.localize)(\"enable filter on type\",\"Enable Filter on Type\")},t.prototype.render=function(){var e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=(0,h.localize)(\"empty\",\"No elements found\"),this._empty=!0):(this.messageDomNode.innerHTML=\"\",this._empty=!1),(0,i.toggleClass)(this.domNode,\"no-matches\",e),this.domNode.title=(0,h.localize)(\"found\",\"Matched {0} out of {1} elements\",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?\"…\"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},t.prototype.shouldAllowFocus=function(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!l.FuzzyScore.isDefault(e.filterData))},t.prototype.dispose=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,e.dispose)(this.disposables)},t}();function I(e){return\"INPUT\"===e.tagName||\"TEXTAREA\"===e.tagName}function L(e){return{elements:e.elements.map(function(e){return e.element}),browserEvent:e.browserEvent}}function k(e,t){t(e),e.children.forEach(function(e){return k(e,t)})}var x=function(){function e(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new n.Emitter,this.onDidChange=this._onDidChange.event}return Object.defineProperty(e.prototype,\"nodeSet\",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){(0,s.equals)(this.nodes,e)||this._set(e,!1,t)},e.prototype._set=function(e,t,i){if(this.nodes=b(e),this.elements=void 0,this._nodeSet=void 0,!t){var n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}},e.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(e){return e.element})),b(this.elements)},e.prototype.getNodes=function(){return this.nodes},e.prototype.has=function(e){return this.nodeSet.has(e)},e.prototype.onDidModelSplice=function(e){var t=this,i=e.insertedNodes,n=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return n.forEach(function(e){return k(e,r)}),void this.set((0,f.values)(o))}var s=new Set,a=function(e){return s.add(t.identityProvider.getId(e.element).toString())};n.forEach(function(e){return k(e,a)});var d=new Map,l=function(e){return d.set(t.identityProvider.getId(e.element).toString(),e)};i.forEach(function(e){return k(e,l)});for(var p=[],h=0,u=this.nodes;h<u.length;h++){var c=u[h],v=this.identityProvider.getId(c.element).toString();if(s.has(v)){var g=d.get(v);g&&p.push(g)}else p.push(c)}this._set(p,!0)},e.prototype.createNodeSet=function(){for(var e=new Set,t=0,i=this.nodes;t<i.length;t++){var n=i[t];e.add(n)}return e},e}(),F=function(e){function t(t,i){var n=e.call(this,t)||this;return n.tree=i,n}return m(t,e),t.prototype.onPointer=function(t){if(!I(t.browserEvent.target)){var n=t.element;if(!n)return e.prototype.onPointer.call(this,t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return e.prototype.onPointer.call(this,t);var o=(0,i.hasClass)(t.browserEvent.target,\"monaco-tl-twistie\");if(!this.tree.openOnSingleClick&&2!==t.browserEvent.detail&&!o)return e.prototype.onPointer.call(this,t);var r=!1;if((r=\"function\"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(n.element):!!this.tree.expandOnlyOnTwistieClick)&&!o)return e.prototype.onPointer.call(this,t);if(n.collapsible){var s=this.tree.model,a=s.getNodeLocation(n),d=t.browserEvent.altKey;if(s.setCollapsed(a,void 0,d),r&&o)return}e.prototype.onPointer.call(this,t)}},t.prototype.onDoubleClick=function(t){(0,i.hasClass)(t.browserEvent.target,\"monaco-tl-twistie\")||e.prototype.onDoubleClick.call(this,t)},t}(t.MouseController),j=function(e){function t(t,i,n,o,r,s,a){var d=e.call(this,t,i,n,o,a)||this;return d.focusTrait=r,d.selectionTrait=s,d}return m(t,e),t.prototype.createMouseController=function(e){return new F(this,e.tree)},t.prototype.splice=function(t,i,n){var o=this;if(void 0===n&&(n=[]),e.prototype.splice.call(this,t,i,n),0!==n.length){var r=[],a=[];n.forEach(function(e,i){o.focusTrait.has(e)&&r.push(t+i),o.selectionTrait.has(e)&&a.push(t+i)}),r.length>0&&e.prototype.setFocus.call(this,(0,s.distinctES6)(b(e.prototype.getFocus.call(this),r))),a.length>0&&e.prototype.setSelection.call(this,(0,s.distinctES6)(b(e.prototype.getSelection.call(this),a)))}},t.prototype.setFocus=function(t,i,n){var o=this;void 0===n&&(n=!1),e.prototype.setFocus.call(this,t,i),n||this.focusTrait.set(t.map(function(e){return o.element(e)}),i)},t.prototype.setSelection=function(t,i,n){var o=this;void 0===n&&(n=!1),e.prototype.setSelection.call(this,t,i),n||this.selectionTrait.set(t.map(function(e){return o.element(e)}),i)},t}(t.List),K=function(){function r(r,a,d,l,p){var h=this;void 0===p&&(p={}),this._options=p,this.eventBufferer=new n.EventBufferer,this.disposables=new e.DisposableStore,this._onWillRefilter=new n.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new n.Emitter;var u,c=new S(d),f=new n.Relay,v=new n.Relay,g=new T(v.event);this.renderers=l.map(function(e){return new O(e,function(){return h.model},f.event,g,p)});for(var m=0,b=this.renderers;m<b.length;m++){var D=b[m];this.disposables.add(D)}p.keyboardNavigationLabelProvider&&(u=new _(this,p.keyboardNavigationLabelProvider,p.filter),p=y(y({},p),{filter:u}),this.disposables.add(u)),this.focus=new x(p.identityProvider),this.selection=new x(p.identityProvider),this.view=new j(r,a,c,this.renderers,this.focus,this.selection,y(y({},C(function(){return h.model},p)),{tree:this})),this.model=this.createModel(r,this.view,p),f.input=this.model.onDidChangeCollapseState;var N=n.Event.forEach(this.model.onDidSplice,function(e){h.eventBufferer.bufferEvents(function(){h.focus.onDidModelSplice(e),h.selection.onDidModelSplice(e)})});if(N(function(){return null},null,this.disposables),v.input=n.Event.chain(n.Event.any(N,this.focus.onDidChange,this.selection.onDidChange)).debounce(function(){return null},0).map(function(){for(var e=new Set,t=0,i=h.focus.getNodes();t<i.length;t++){var n=i[t];e.add(n)}for(var o=0,r=h.selection.getNodes();o<r.length;o++){n=r[o];e.add(n)}return(0,s.fromSet)(e)}).event,!1!==p.keyboardSupport){var w=n.Event.chain(this.view.onKeyDown).filter(function(e){return!I(e.target)}).map(function(e){return new o.StandardKeyboardEvent(e)});w.filter(function(e){return 15===e.keyCode}).on(this.onLeftArrow,this,this.disposables),w.filter(function(e){return 17===e.keyCode}).on(this.onRightArrow,this,this.disposables),w.filter(function(e){return 10===e.keyCode}).on(this.onSpace,this,this.disposables)}if(p.keyboardNavigationLabelProvider){var L=p.keyboardNavigationDelegate||t.DefaultKeyboardNavigationDelegate;this.typeFilterController=new P(this,this.model,this.view,u,L),this.focusNavigationFilter=function(e){return h.typeFilterController.shouldAllowFocus(e)},this.disposables.add(this.typeFilterController)}this.styleElement=(0,i.createStyleSheet)(this.view.getHTMLElement()),(0,i.toggleClass)(this.getHTMLElement(),\"always\",this._options.renderIndentGuides===E.Always)}return Object.defineProperty(r.prototype,\"onDidChangeFocus\",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"onDidChangeSelection\",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"onDidOpen\",{get:function(){return n.Event.map(this.view.onDidOpen,L)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"onDidFocus\",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"onDidChangeCollapseState\",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"openOnSingleClick\",{get:function(){return void 0===this._options.openOnSingleClick||this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"expandOnlyOnTwistieClick\",{get:function(){return void 0!==this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"onDidDispose\",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),r.prototype.updateOptions=function(e){void 0===e&&(e={}),this._options=y(y({},this._options),e);for(var t=0,n=this.renderers;t<n.length;t++){n[t].updateOptions(e)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),(0,i.toggleClass)(this.getHTMLElement(),\"always\",this._options.renderIndentGuides===E.Always)},Object.defineProperty(r.prototype,\"options\",{get:function(){return this._options},enumerable:!0,configurable:!0}),r.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(r.prototype,\"scrollTop\",{get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e},enumerable:!0,configurable:!0}),r.prototype.domFocus=function(){this.view.domFocus()},r.prototype.layout=function(e,t){this.view.layout(e,t)},r.prototype.style=function(e){var t=\".\"+this.view.domId,i=[];e.treeIndentGuidesStroke&&(i.push(\".monaco-list\"+t+\":hover .monaco-tl-indent > .indent-guide, .monaco-list\"+t+\".always .monaco-tl-indent > .indent-guide  { border-color: \"+e.treeIndentGuidesStroke.transparent(.4)+\"; }\"),i.push(\".monaco-list\"+t+\" .monaco-tl-indent > .indent-guide.active { border-color: \"+e.treeIndentGuidesStroke+\"; }\"));var n=i.join(\"\\n\");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n),this.view.style(e)},r.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!0,t)},r.prototype.expand=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!1,t)},r.prototype.setCollapsible=function(e,t){return this.model.setCollapsible(e,t)},r.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},r.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},r.prototype.setSelection=function(e,t){var i=this,n=e.map(function(e){return i.model.getNode(e)});this.selection.set(n,t);var o=e.map(function(e){return i.model.getListIndex(e)}).filter(function(e){return e>-1});this.view.setSelection(o,t,!0)},r.prototype.getSelection=function(){return this.selection.get()},r.prototype.setFocus=function(e,t){var i=this,n=e.map(function(e){return i.model.getNode(e)});this.focus.set(n,t);var o=e.map(function(e){return i.model.getListIndex(e)}).filter(function(e){return e>-1});this.view.setFocus(o,t,!0)},r.prototype.focusNext=function(e,t,i,n){void 0===e&&(e=1),void 0===t&&(t=!1),void 0===n&&(n=this.focusNavigationFilter),this.view.focusNext(e,t,i,n)},r.prototype.getFocus=function(){return this.focus.get()},r.prototype.reveal=function(e,t){this.model.expandTo(e);var i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)},r.prototype.getRelativeTop=function(e){var t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)},r.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){var o=this.model.getParentNodeLocation(n);if(!o)return;var r=this.model.getListIndex(o);this.view.reveal(r),this.view.setFocus([r])}}},r.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(function(e){return e.visible}))return;var o=this.view.getFocus()[0]+1;this.view.reveal(o),this.view.setFocus([o])}}},r.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}},r.prototype.dispose=function(){(0,e.dispose)(this.disposables),this.view.dispose()},r}();exports.AbstractTree=K;"},"sourceMaps":null,"error":null,"hash":"019e165794090686a2f2c005cae2bb22","cacheData":{"env":{}}}