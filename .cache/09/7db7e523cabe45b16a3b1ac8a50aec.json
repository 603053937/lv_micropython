{"id":"a0H1","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607286873532},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607286873524},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607287523892},{"name":"../../../base/common/lifecycle.js","loc":{"line":18,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/scrollable.js","loc":{"line":19,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/scrollable.js"},{"name":"./linesLayout.js","loc":{"line":20,"column":28},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/linesLayout.js"},{"name":"../viewModel/viewModel.js","loc":{"line":21,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModel.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ViewLayout=void 0;var t=require(\"../../../base/common/lifecycle.js\"),e=require(\"../../../base/common/scrollable.js\"),o=require(\"./linesLayout.js\"),i=require(\"../viewModel/viewModel.js\"),r=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=125,l=function(t){function l(i,r,n){var l=t.call(this)||this;l._configuration=i;var s=l._configuration.options,c=s.get(103);return l._linesLayout=new o.LinesLayout(r,s.get(47)),l.scrollable=l._register(new e.Scrollable(0,n)),l._configureSmoothScrollDuration(),l.scrollable.setScrollDimensions({width:c.contentWidth,height:c.contentHeight}),l.onDidScroll=l.scrollable.onScroll,l._updateHeight(),l}return r(l,t),l.prototype.dispose=function(){t.prototype.dispose.call(this)},l.prototype.onHeightMaybeChanged=function(){this._updateHeight()},l.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.options.get(83)?n:0)},l.prototype.onConfigurationChanged=function(t){var e=this._configuration.options;if(t.hasChanged(47)&&this._linesLayout.setLineHeight(e.get(47)),t.hasChanged(103)){var o=e.get(103),i=o.contentWidth,r=o.contentHeight,n=this.scrollable.getScrollDimensions().scrollWidth,l=this._getTotalHeight(i,r,n);this.scrollable.setScrollDimensions({width:i,height:r,scrollHeight:l})}else this._updateHeight();t.hasChanged(83)&&this._configureSmoothScrollDuration()},l.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)},l.prototype.onLinesDeleted=function(t,e){this._linesLayout.onLinesDeleted(t,e)},l.prototype.onLinesInserted=function(t,e){this._linesLayout.onLinesInserted(t,e)},l.prototype._getHorizontalScrollbarHeight=function(t,e){var o=this._configuration.options.get(74);return 2===o.horizontal?0:t>=e?0:o.horizontalScrollbarSize},l.prototype._getTotalHeight=function(t,e,o){var i=this._configuration.options,r=this._linesLayout.getLinesTotalHeight();return i.get(76)?r+=e-i.get(47):r+=this._getHorizontalScrollbarHeight(t,o),Math.max(e,r)},l.prototype._updateHeight=function(){var t=this.scrollable.getScrollDimensions(),e=t.width,o=t.height,i=t.scrollWidth,r=this._getTotalHeight(e,o,i);this.scrollable.setScrollDimensions({scrollHeight:r})},l.prototype.getCurrentViewport=function(){var t=this.scrollable.getScrollDimensions(),e=this.scrollable.getCurrentScrollPosition();return new i.Viewport(e.scrollTop,e.scrollLeft,t.width,t.height)},l.prototype.getFutureViewport=function(){var t=this.scrollable.getScrollDimensions(),e=this.scrollable.getFutureScrollPosition();return new i.Viewport(e.scrollTop,e.scrollLeft,t.width,t.height)},l.prototype._computeScrollWidth=function(t,e){var o=this._configuration.options;if(!o.get(104).isViewportWrapping){var i=o.get(75)*o.get(32).typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+i,e,r)}return Math.max(t,e)},l.prototype.onMaxLineWidthChanged=function(t){var e=this._computeScrollWidth(t,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:e}),this._updateHeight()},l.prototype.saveState=function(){var t=this.scrollable.getFutureScrollPosition(),e=t.scrollTop,o=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e);return{scrollTop:e,scrollTopWithoutViewZones:e-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(o),scrollLeft:t.scrollLeft}},l.prototype.changeWhitespace=function(t){return this._linesLayout.changeWhitespace(t)},l.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},l.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},l.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},l.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},l.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},l.prototype.getLinesViewportDataAtScrollTop=function(t){var e=this.scrollable.getScrollDimensions();return t+e.height>e.scrollHeight&&(t=e.scrollHeight-e.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+e.height)},l.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},l.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},l.prototype.getScrollWidth=function(){return this.scrollable.getScrollDimensions().scrollWidth},l.prototype.getScrollHeight=function(){return this.scrollable.getScrollDimensions().scrollHeight},l.prototype.getCurrentScrollLeft=function(){return this.scrollable.getCurrentScrollPosition().scrollLeft},l.prototype.getCurrentScrollTop=function(){return this.scrollable.getCurrentScrollPosition().scrollTop},l.prototype.validateScrollPosition=function(t){return this.scrollable.validateScrollPosition(t)},l.prototype.setScrollPositionNow=function(t){this.scrollable.setScrollPositionNow(t)},l.prototype.setScrollPositionSmooth=function(t){this.scrollable.setScrollPositionSmooth(t)},l.prototype.deltaScrollNow=function(t,e){var o=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:o.scrollLeft+t,scrollTop:o.scrollTop+e})},l}(t.Disposable);exports.ViewLayout=l;"},"sourceMaps":null,"error":null,"hash":"3069111c6b6eeedc24bdfad9f411ebdc","cacheData":{"env":{}}}