{"id":"Gt7p","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1607286873532},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1607286873524},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1607287523892},{"name":"../../../base/common/arrays.js","loc":{"line":63,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../../base/common/errors.js","loc":{"line":64,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../base/common/lazy.js","loc":{"line":65,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lazy.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":66,"column":46},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../message/messageController.js","loc":{"line":67,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.js"},{"name":"./codeActionMenu.js","loc":{"line":68,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionMenu.js"},{"name":"./lightBulbWidget.js","loc":{"line":69,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js"},{"name":"../../../platform/instantiation/common/instantiation.js","loc":{"line":70,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CodeActionUi=void 0;var e=require(\"../../../base/common/arrays.js\"),t=require(\"../../../base/common/errors.js\"),n=require(\"../../../base/common/lazy.js\"),i=require(\"../../../base/common/lifecycle.js\"),o=require(\"../message/messageController.js\"),r=require(\"./codeActionMenu.js\"),s=require(\"./lightBulbWidget.js\"),c=require(\"../../../platform/instantiation/common/instantiation.js\"),a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=function(e,t){return function(n,i){t(n,i,e)}},d=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{a(i.next(e))}catch(t){r(t)}}function c(e){try{a(i.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((i=i.apply(e,t||[])).next())})},p=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},\"function\"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},f=function(f){function g(e,t,o,c,a){var l=f.call(this)||this;return l._editor=e,l.delegate=c,l._activeCodeActions=l._register(new i.MutableDisposable),l._codeActionWidget=new n.Lazy(function(){return l._register(a.createInstance(r.CodeActionMenu,l._editor,{onSelectCodeAction:function(e){return d(l,void 0,void 0,function(){return p(this,function(t){return this.delegate.applyCodeAction(e,!0),[2]})})}}))}),l._lightBulbWidget=new n.Lazy(function(){var e=l._register(a.createInstance(s.LightBulbWidget,l._editor,t,o));return l._register(e.onClick(function(e){return l.showCodeActionList(e.actions,e,{includeDisabledActions:!1})})),e}),l}return a(g,f),g.prototype.update=function(e){var n,i,r;return d(this,void 0,void 0,function(){var s,c,a,l,u;return p(this,function(d){switch(d.label){case 0:if(1!==e.type)return null===(n=this._lightBulbWidget.rawValue)||void 0===n||n.hide(),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.actions];case 2:return s=d.sent(),[3,4];case 3:return c=d.sent(),(0,t.onUnexpectedError)(c),[2];case 4:if(this._lightBulbWidget.getValue().update(s,e.position),\"manual\"!==e.trigger.type)return[3,11];if(!(null===(i=e.trigger.filter)||void 0===i?void 0:i.include))return[3,10];if(!(a=this.tryGetValidActionToApply(e.trigger,s)))return[3,9];d.label=5;case 5:return d.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(a,!1)];case 6:return d.sent(),[3,8];case 7:return s.dispose(),[7];case 8:return[2];case 9:if(e.trigger.context&&(l=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s))&&l.disabled)return o.MessageController.get(this._editor).showMessage(l.disabled,e.trigger.context.position),s.dispose(),[2];d.label=10;case 10:return u=!!(null===(r=e.trigger.filter)||void 0===r?void 0:r.include),!e.trigger.context||s.allActions.length&&(u||s.validActions.length)?(this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(s,e.position,{includeDisabledActions:u}),[3,12]):(o.MessageController.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,s.dispose(),[2]);case 11:this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s,d.label=12;case 12:return[2]}})})},g.prototype.getInvalidActionThatWouldHaveBeenApplied=function(t,n){if(n.allActions.length)return\"first\"===t.autoApply&&0===n.validActions.length||\"ifSingle\"===t.autoApply&&1===n.allActions.length?(0,e.find)(n.allActions,function(e){return e.disabled}):void 0},g.prototype.tryGetValidActionToApply=function(e,t){if(t.validActions.length)return\"first\"===e.autoApply&&t.validActions.length>0||\"ifSingle\"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0},g.prototype.showCodeActionList=function(e,t,n){return d(this,void 0,void 0,function(){return p(this,function(i){return this._codeActionWidget.getValue().show(e,t,n),[2]})})},g=l([u(4,c.IInstantiationService)],g)}(i.Disposable);exports.CodeActionUi=f;"},"sourceMaps":null,"error":null,"hash":"8114bb7bab0c5dc23768b70b7458b6f5","cacheData":{"env":{}}}