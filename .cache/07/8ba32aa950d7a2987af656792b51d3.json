{"id":"kaaX","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608846679099},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608846679095},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608846860992},{"name":"./media/editor.css","loc":{"line":27,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/media/editor.css"},{"name":"../../../nls.js","loc":{"line":28,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/browser/dom.js","loc":{"line":29,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/common/errors.js","loc":{"line":30,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../base/common/event.js","loc":{"line":31,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":32,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/network.js","loc":{"line":33,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/network.js"},{"name":"../config/configuration.js","loc":{"line":34,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/config/configuration.js"},{"name":"../editorExtensions.js","loc":{"line":35,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../services/codeEditorService.js","loc":{"line":36,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js"},{"name":"../view/viewImpl.js","loc":{"line":37,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/view/viewImpl.js"},{"name":"../view/viewOutgoingEvents.js","loc":{"line":38,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/view/viewOutgoingEvents.js"},{"name":"../../common/controller/cursor.js","loc":{"line":39,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/controller/cursor.js"},{"name":"../../common/controller/cursorCommon.js","loc":{"line":40,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/controller/cursorCommon.js"},{"name":"../../common/core/position.js","loc":{"line":41,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../common/core/range.js","loc":{"line":42,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/selection.js","loc":{"line":43,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"../../common/editorAction.js","loc":{"line":44,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorAction.js"},{"name":"../../common/editorCommon.js","loc":{"line":45,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorCommon.js"},{"name":"../../common/editorContextKeys.js","loc":{"line":46,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js"},{"name":"../../common/modes.js","loc":{"line":47,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes.js"},{"name":"../../common/view/editorColorRegistry.js","loc":{"line":48,"column":74},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/view/editorColorRegistry.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":49,"column":201},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../common/viewModel/viewModelImpl.js","loc":{"line":50,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelImpl.js"},{"name":"../../../platform/commands/common/commands.js","loc":{"line":51,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":52,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"},{"name":"../../../platform/instantiation/common/instantiation.js","loc":{"line":53,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js"},{"name":"../../../platform/instantiation/common/serviceCollection.js","loc":{"line":54,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js"},{"name":"../../../platform/notification/common/notification.js","loc":{"line":55,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":56,"column":58},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/accessibility/common/accessibility.js","loc":{"line":57,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js"},{"name":"../../../base/common/types.js","loc":{"line":58,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/types.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EditorModeContext=exports.BooleanEventEmitter=exports.CodeEditorWidget=void 0,require(\"./media/editor.css\");var e=I(require(\"../../../nls.js\")),t=I(require(\"../../../base/browser/dom.js\")),o=require(\"../../../base/common/errors.js\"),i=require(\"../../../base/common/event.js\"),n=require(\"../../../base/common/lifecycle.js\"),r=require(\"../../../base/common/network.js\"),s=require(\"../config/configuration.js\"),a=require(\"../editorExtensions.js\"),d=require(\"../services/codeEditorService.js\"),l=require(\"../view/viewImpl.js\"),u=require(\"../view/viewOutgoingEvents.js\"),c=require(\"../../common/controller/cursor.js\"),h=require(\"../../common/controller/cursorCommon.js\"),g=require(\"../../common/core/position.js\"),m=require(\"../../common/core/range.js\"),_=require(\"../../common/core/selection.js\"),p=require(\"../../common/editorAction.js\"),v=I(require(\"../../common/editorCommon.js\")),f=require(\"../../common/editorContextKeys.js\"),y=I(require(\"../../common/modes.js\")),D=require(\"../../common/view/editorColorRegistry.js\"),C=require(\"../../../platform/theme/common/colorRegistry.js\"),w=require(\"../../common/viewModel/viewModelImpl.js\"),S=require(\"../../../platform/commands/common/commands.js\"),P=require(\"../../../platform/contextkey/common/contextkey.js\"),E=require(\"../../../platform/instantiation/common/instantiation.js\"),b=require(\"../../../platform/instantiation/common/serviceCollection.js\"),R=require(\"../../../platform/notification/common/notification.js\"),M=require(\"../../../platform/theme/common/themeService.js\"),T=require(\"../../../platform/accessibility/common/accessibility.js\"),x=require(\"../../../base/common/types.js\");function F(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return F=function(){return e},e}function I(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=F();if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o}var O=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),L=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},W=function(e,t){return function(o,i){t(o,i,e)}},V=0,K=function(){function e(e,t,o,i,n,r){this.model=e,this.viewModel=t,this.cursor=o,this.view=i,this.hasRealView=n,this.listenersToRemove=r}return e.prototype.dispose=function(){(0,n.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},e}(),j=function(n){function r(e,t,r,s,d,l,u,c,h,g){var m=n.call(this)||this;m._onDidDispose=m._register(new i.Emitter),m.onDidDispose=m._onDidDispose.event,m._onDidChangeModelContent=m._register(new i.Emitter),m.onDidChangeModelContent=m._onDidChangeModelContent.event,m._onDidChangeModelLanguage=m._register(new i.Emitter),m.onDidChangeModelLanguage=m._onDidChangeModelLanguage.event,m._onDidChangeModelLanguageConfiguration=m._register(new i.Emitter),m.onDidChangeModelLanguageConfiguration=m._onDidChangeModelLanguageConfiguration.event,m._onDidChangeModelOptions=m._register(new i.Emitter),m.onDidChangeModelOptions=m._onDidChangeModelOptions.event,m._onDidChangeModelDecorations=m._register(new i.Emitter),m.onDidChangeModelDecorations=m._onDidChangeModelDecorations.event,m._onDidChangeConfiguration=m._register(new i.Emitter),m.onDidChangeConfiguration=m._onDidChangeConfiguration.event,m._onDidChangeModel=m._register(new i.Emitter),m.onDidChangeModel=m._onDidChangeModel.event,m._onDidChangeCursorPosition=m._register(new i.Emitter),m.onDidChangeCursorPosition=m._onDidChangeCursorPosition.event,m._onDidChangeCursorSelection=m._register(new i.Emitter),m.onDidChangeCursorSelection=m._onDidChangeCursorSelection.event,m._onDidAttemptReadOnlyEdit=m._register(new i.Emitter),m.onDidAttemptReadOnlyEdit=m._onDidAttemptReadOnlyEdit.event,m._onDidLayoutChange=m._register(new i.Emitter),m.onDidLayoutChange=m._onDidLayoutChange.event,m._editorTextFocus=m._register(new N),m.onDidFocusEditorText=m._editorTextFocus.onDidChangeToTrue,m.onDidBlurEditorText=m._editorTextFocus.onDidChangeToFalse,m._editorWidgetFocus=m._register(new N),m.onDidFocusEditorWidget=m._editorWidgetFocus.onDidChangeToTrue,m.onDidBlurEditorWidget=m._editorWidgetFocus.onDidChangeToFalse,m._onWillType=m._register(new i.Emitter),m.onWillType=m._onWillType.event,m._onDidType=m._register(new i.Emitter),m.onDidType=m._onDidType.event,m._onCompositionStart=m._register(new i.Emitter),m.onCompositionStart=m._onCompositionStart.event,m._onCompositionEnd=m._register(new i.Emitter),m.onCompositionEnd=m._onCompositionEnd.event,m._onDidPaste=m._register(new i.Emitter),m.onDidPaste=m._onDidPaste.event,m._onMouseUp=m._register(new i.Emitter),m.onMouseUp=m._onMouseUp.event,m._onMouseDown=m._register(new i.Emitter),m.onMouseDown=m._onMouseDown.event,m._onMouseDrag=m._register(new i.Emitter),m.onMouseDrag=m._onMouseDrag.event,m._onMouseDrop=m._register(new i.Emitter),m.onMouseDrop=m._onMouseDrop.event,m._onContextMenu=m._register(new i.Emitter),m.onContextMenu=m._onContextMenu.event,m._onMouseMove=m._register(new i.Emitter),m.onMouseMove=m._onMouseMove.event,m._onMouseLeave=m._register(new i.Emitter),m.onMouseLeave=m._onMouseLeave.event,m._onMouseWheel=m._register(new i.Emitter),m.onMouseWheel=m._onMouseWheel.event,m._onKeyUp=m._register(new i.Emitter),m.onKeyUp=m._onKeyUp.event,m._onKeyDown=m._register(new i.Emitter),m.onKeyDown=m._onKeyDown.event,m._onDidScrollChange=m._register(new i.Emitter),m.onDidScrollChange=m._onDidScrollChange.event,m._onDidChangeViewZones=m._register(new i.Emitter),m.onDidChangeViewZones=m._onDidChangeViewZones.event,m._domElement=e,m._id=++V,m._decorationTypeKeysToIds={},m._decorationTypeSubtypes={},m.isSimpleWidget=r.isSimpleWidget||!1,m._telemetryData=r.telemetryData,t=t||{},m._configuration=m._register(m._createConfiguration(t,g)),m._register(m._configuration.onDidChange(function(e){m._onDidChangeConfiguration.fire(e);var t=m._configuration.options;if(e.hasChanged(103)){var o=t.get(103);m._onDidLayoutChange.fire(o)}})),m._contextKeyService=m._register(u.createScoped(m._domElement)),m._notificationService=h,m._codeEditorService=d,m._commandService=l,m._themeService=c,m._register(new q(m,m._contextKeyService)),m._register(new A(m,m._contextKeyService)),m._instantiationService=s.createChild(new b.ServiceCollection([P.IContextKeyService,m._contextKeyService])),m._modelData=null,m._contributions={},m._actions={},m._focusTracker=new H(e),m._focusTracker.onChange(function(){m._editorWidgetFocus.setValue(m._focusTracker.hasFocus())}),m._contentWidgets={},m._overlayWidgets={};for(var _=0,v=Array.isArray(r.contributions)?r.contributions:a.EditorExtensionsRegistry.getEditorContributions();_<v.length;_++){var f=v[_];try{var y=m._instantiationService.createInstance(f.ctor,m);m._contributions[f.id]=y}catch(D){(0,o.onUnexpectedError)(D)}}return a.EditorExtensionsRegistry.getEditorActions().forEach(function(e){var t=new p.InternalEditorAction(e.id,e.label,e.alias,(0,x.withNullAsUndefined)(e.precondition),function(){return m._instantiationService.invokeFunction(function(t){return Promise.resolve(e.runEditorCommand(t,m,null))})},m._contextKeyService);m._actions[t.id]=t}),m._codeEditorService.addCodeEditor(m),m}return O(r,n),r.prototype._createConfiguration=function(e,t){return new s.Configuration(this.isSimpleWidget,e,this._domElement,t)},r.prototype.getId=function(){return this.getEditorType()+\":\"+this._id},r.prototype.getEditorType=function(){return v.EditorType.ICodeEditor},r.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var e=Object.keys(this._contributions),t=0,o=e.length;t<o;t++){var i=e[t];this._contributions[i].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),n.prototype.dispose.call(this)},r.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},r.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},r.prototype.getOptions=function(){return this._configuration.options},r.prototype.getOption=function(e){return this._configuration.options.get(e)},r.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},r.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return\"\";var t=!(!e||!e.preserveBOM),o=0;return e&&e.lineEnding&&\"\\n\"===e.lineEnding?o=1:e&&e.lineEnding&&\"\\r\\n\"===e.lineEnding&&(o=2),this._modelData.model.getValue(o,t)},r.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},r.prototype.getModel=function(){return this._modelData?this._modelData.model:null},r.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if(!(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)){var o=this.hasTextFocus(),i=this._detachModel();this._attachModel(t),o&&this.hasModel()&&this.focus();var n={oldModelUrl:i?i.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(i)}},r.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var o in t)this._removeDecorationType(e+\"-\"+o)}this._decorationTypeSubtypes={}}},r.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},r.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},r._getVerticalOffsetForPosition=function(e,t,o){var i=e.model.validatePosition({lineNumber:t,column:o}),n=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)},r.prototype.getTopForLineNumber=function(e){return this._modelData?r._getVerticalOffsetForPosition(this._modelData,e,1):-1},r.prototype.getTopForPosition=function(e,t){return this._modelData?r._getVerticalOffsetForPosition(this._modelData,e,t):-1},r.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(function(e){return m.Range.lift(e)}))},r.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),o=this._modelData.model.getOptions().tabSize;return h.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,o)+1},r.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},r.prototype.setPosition=function(e){if(this._modelData){if(!g.Position.isIPosition(e))throw new Error(\"Invalid arguments\");this._modelData.cursor.setSelections(\"api\",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},r.prototype._sendRevealRange=function(e,t,o,i){if(this._modelData){if(!m.Range.isIRange(e))throw new Error(\"Invalid arguments\");var n=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(n);this._modelData.cursor.emitCursorRevealRange(\"api\",r,t,o,i)}},r.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},r.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},r.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},r.prototype._revealLine=function(e,t,o){if(\"number\"!=typeof e)throw new Error(\"Invalid arguments\");this._sendRevealRange(new m.Range(e,1,e,1),t,!1,o)},r.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},r.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},r.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},r.prototype._revealPosition=function(e,t,o,i){if(!g.Position.isIPosition(e))throw new Error(\"Invalid arguments\");this._sendRevealRange(new m.Range(e.lineNumber,e.column,e.lineNumber,e.column),t,o,i)},r.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},r.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},r.prototype.setSelection=function(e){var t=_.Selection.isISelection(e),o=m.Range.isIRange(e);if(!t&&!o)throw new Error(\"Invalid arguments\");if(t)this._setSelectionImpl(e);else if(o){var i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i)}},r.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new _.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections(\"api\",[t])}},r.prototype.revealLines=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,0,o)},r.prototype.revealLinesInCenter=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,1,o)},r.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,2,o)},r.prototype._revealLines=function(e,t,o,i){if(\"number\"!=typeof e||\"number\"!=typeof t)throw new Error(\"Invalid arguments\");this._sendRevealRange(new m.Range(e,1,t,1),o,!1,i)},r.prototype.revealRange=function(e,t,o,i){void 0===t&&(t=0),void 0===o&&(o=!1),void 0===i&&(i=!0),this._revealRange(e,o?1:0,i,t)},r.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},r.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},r.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},r.prototype._revealRange=function(e,t,o,i){if(!m.Range.isIRange(e))throw new Error(\"Invalid arguments\");this._sendRevealRange(m.Range.lift(e),t,o,i)},r.prototype.setSelections=function(e,t){if(void 0===t&&(t=\"api\"),this._modelData){if(!e||0===e.length)throw new Error(\"Invalid arguments\");for(var o=0,i=e.length;o<i;o++)if(!_.Selection.isISelection(e[o]))throw new Error(\"Invalid arguments\");this._modelData.cursor.setSelections(t,e)}},r.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},r.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},r.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},r.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},r.prototype.setScrollLeft=function(e){if(this._modelData){if(\"number\"!=typeof e)throw new Error(\"Invalid arguments\");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},r.prototype.setScrollTop=function(e){if(this._modelData){if(\"number\"!=typeof e)throw new Error(\"Invalid arguments\");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},r.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},r.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=0,o=Object.keys(this._contributions);t<o.length;t++){var i=o[t],n=this._contributions[i];\"function\"==typeof n.saveViewState&&(e[i]=n.saveViewState())}return{cursorState:this._modelData.cursor.saveState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}},r.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var o=t.cursorState;Array.isArray(o)?this._modelData.cursor.restoreState(o):this._modelData.cursor.restoreState([o]);for(var i=t.contributionsState||{},n=Object.keys(this._contributions),r=0,s=n.length;r<s;r++){var a=n[r],d=this._contributions[a];\"function\"==typeof d.restoreViewState&&d.restoreViewState(i[a])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(l)}}},r.prototype.getContribution=function(e){return this._contributions[e]||null},r.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),o=0,i=t.length;o<i;o++){var n=t[o];e.push(this._actions[n])}return e},r.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter(function(e){return e.isSupported()})},r.prototype.getAction=function(e){return this._actions[e]||null},r.prototype.trigger=function(e,t,i){if(i=i||{},t===v.Handler.Type){if(!this._modelData||\"string\"!=typeof i.text||0===i.text.length)return;return\"keyboard\"===e&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(e,t,i),void(\"keyboard\"===e&&this._onDidType.fire(i.text))}if(t!==v.Handler.Paste){t===v.Handler.CompositionStart&&this._onCompositionStart.fire(),t===v.Handler.CompositionEnd&&this._onCompositionEnd.fire();var n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,o.onUnexpectedError):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._modelData.cursor.trigger(e,t,i))}else{if(!this._modelData||\"string\"!=typeof i.text||0===i.text.length)return;var r=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,i);var s=this._modelData.cursor.getSelection().getStartPosition();\"keyboard\"===e&&this._onDidPaste.fire(new m.Range(r.lineNumber,r.column,s.lineNumber,s.column))}},r.prototype._triggerEditorCommand=function(e,t,i){var n=this,r=a.EditorExtensionsRegistry.getEditorCommand(t);return!!r&&((i=i||{}).source=e,this._instantiationService.invokeFunction(function(e){Promise.resolve(r.runEditorCommand(e,n,i)).then(void 0,o.onUnexpectedError)}),!0)},r.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},r.prototype.pushUndoStop=function(){return!!this._modelData&&(!this._configuration.options.get(65)&&(this._modelData.model.pushStackElement(),!0))},r.prototype.executeEdits=function(e,t,o){return!!this._modelData&&(!this._configuration.options.get(65)&&(i=o?Array.isArray(o)?function(){return o}:o:function(){return null},this._modelData.cursor.executeEdits(e,t,i),!0));var i},r.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,v.Handler.ExecuteCommand,t)},r.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,v.Handler.ExecuteCommands,t)},r.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},r.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,this._configuration.options.get(65)):null},r.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},r.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},r.prototype.getLayoutInfo=function(){return this._configuration.options.get(103)},r.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},r.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},r.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},r.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},r.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},r.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},r.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},r.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn(\"Overwriting a content widget with the same id.\"),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},r.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var o=this._contentWidgets[t];o.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(o)}},r.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var o=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(o)}},r.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn(\"Overwriting an overlay widget with the same id.\"),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},r.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var o=this._overlayWidgets[t];o.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(o)}},r.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var o=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(o)}},r.prototype.changeViewZones=function(e){this._modelData&&this._modelData.hasRealView&&(this._modelData.view.change(e)&&this._onDidChangeViewZones.fire())},r.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},r.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var t=this._modelData.model.validatePosition(e),o=this._configuration.options,i=o.get(103);return{top:r._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft(),height:o.get(47)}},r.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},r.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},r.prototype.applyFontInfo=function(e){s.Configuration.applyFontInfoSlow(e,this._configuration.options.get(32))},r.prototype._attachModel=function(o){var i=this;if(o){var n=[];this._domElement.setAttribute(\"data-mode-id\",o.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(o.isDominatedByLongLines()),this._configuration.setMaxLineNumber(o.getLineCount()),o.onBeforeAttached();var r=new w.ViewModel(this._id,this._configuration,o,function(e){return t.scheduleAtNextAnimationFrame(e)});n.push(o.onDidChangeDecorations(function(e){return i._onDidChangeModelDecorations.fire(e)})),n.push(o.onDidChangeLanguage(function(e){i._domElement.setAttribute(\"data-mode-id\",o.getLanguageIdentifier().language),i._onDidChangeModelLanguage.fire(e)})),n.push(o.onDidChangeLanguageConfiguration(function(e){return i._onDidChangeModelLanguageConfiguration.fire(e)})),n.push(o.onDidChangeContent(function(e){return i._onDidChangeModelContent.fire(e)})),n.push(o.onDidChangeOptions(function(e){return i._onDidChangeModelOptions.fire(e)})),n.push(o.onWillDispose(function(){return i.setModel(null)}));var s=new c.Cursor(this._configuration,o,r);n.push(s.onDidReachMaxCursorCount(function(){i._notificationService.warn(e.localize(\"cursors.maximum\",\"The number of cursors has been limited to {0}.\",c.Cursor.MAX_CURSOR_COUNT))})),n.push(s.onDidAttemptReadOnlyEdit(function(){i._onDidAttemptReadOnlyEdit.fire(void 0)})),n.push(s.onDidChange(function(e){for(var t=[],o=0,n=e.selections.length;o<n;o++)t[o]=e.selections[o].getPosition();var r={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};i._onDidChangeCursorPosition.fire(r);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};i._onDidChangeCursorSelection.fire(s)}));var a=this._createView(r,s),d=a[0],l=a[1];if(l){this._domElement.appendChild(d.domNode.domNode);for(var u=Object.keys(this._contentWidgets),h=0,g=u.length;h<g;h++){var m=u[h];d.addContentWidget(this._contentWidgets[m])}for(h=0,g=(u=Object.keys(this._overlayWidgets)).length;h<g;h++){m=u[h];d.addOverlayWidget(this._overlayWidgets[m])}d.render(!1,!0),d.domNode.domNode.setAttribute(\"data-uri\",o.uri.toString())}this._modelData=new K(o,r,s,d,l,n)}else this._modelData=null},r.prototype._createView=function(e,t){var o,i=this;o=this.isSimpleWidget?{executeEditorCommand:function(e,o){e.runCoreEditorCommand(t,o)},paste:function(e,t,o,n){i.trigger(e,v.Handler.Paste,{text:t,pasteOnNewLine:o,multicursorText:n})},type:function(e,t){i.trigger(e,v.Handler.Type,{text:t})},replacePreviousChar:function(e,t,o){i.trigger(e,v.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:o})},compositionStart:function(e){i.trigger(e,v.Handler.CompositionStart,void 0)},compositionEnd:function(e){i.trigger(e,v.Handler.CompositionEnd,void 0)},cut:function(e){i.trigger(e,v.Handler.Cut,void 0)}}:{executeEditorCommand:function(e,o){e.runCoreEditorCommand(t,o)},paste:function(e,t,o,n){i._commandService.executeCommand(v.Handler.Paste,{text:t,pasteOnNewLine:o,multicursorText:n})},type:function(e,t){i._commandService.executeCommand(v.Handler.Type,{text:t})},replacePreviousChar:function(e,t,o){i._commandService.executeCommand(v.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:o})},compositionStart:function(e){i._commandService.executeCommand(v.Handler.CompositionStart,{})},compositionEnd:function(e){i._commandService.executeCommand(v.Handler.CompositionEnd,{})},cut:function(e){i._commandService.executeCommand(v.Handler.Cut,{})}};var n=new u.ViewOutgoingEvents(e);return n.onDidScroll=function(e){return i._onDidScrollChange.fire(e)},n.onDidGainFocus=function(){return i._editorTextFocus.setValue(!0)},n.onDidLoseFocus=function(){return i._editorTextFocus.setValue(!1)},n.onContextMenu=function(e){return i._onContextMenu.fire(e)},n.onMouseDown=function(e){return i._onMouseDown.fire(e)},n.onMouseUp=function(e){return i._onMouseUp.fire(e)},n.onMouseDrag=function(e){return i._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return i._onMouseDrop.fire(e)},n.onKeyUp=function(e){return i._onKeyUp.fire(e)},n.onMouseMove=function(e){return i._onMouseMove.fire(e)},n.onMouseLeave=function(e){return i._onMouseLeave.fire(e)},n.onMouseWheel=function(e){return i._onMouseWheel.fire(e)},n.onKeyDown=function(e){return i._onKeyDown.fire(e)},[new l.View(o,this._configuration,this._themeService,e,t,n),!0]},r.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},r.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute(\"data-mode-id\"),t&&this._domElement.removeChild(t),e},r.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},r.prototype.hasModel=function(){return null!==this._modelData},r=L([W(3,E.IInstantiationService),W(4,d.ICodeEditorService),W(5,S.ICommandService),W(6,P.IContextKeyService),W(7,M.IThemeService),W(8,R.INotificationService),W(9,T.IAccessibilityService)],r)}(n.Disposable);exports.CodeEditorWidget=j;var N=function(e){function t(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new i.Emitter),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new i.Emitter),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return O(t,e),t.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},t}(n.Disposable);exports.BooleanEventEmitter=N;var q=function(e){function t(t,o){var i=e.call(this)||this;return i._editor=t,o.createKey(\"editorId\",t.getId()),i._editorFocus=f.EditorContextKeys.focus.bindTo(o),i._textInputFocus=f.EditorContextKeys.textInputFocus.bindTo(o),i._editorTextFocus=f.EditorContextKeys.editorTextFocus.bindTo(o),i._editorTabMovesFocus=f.EditorContextKeys.tabMovesFocus.bindTo(o),i._editorReadonly=f.EditorContextKeys.readOnly.bindTo(o),i._hasMultipleSelections=f.EditorContextKeys.hasMultipleSelections.bindTo(o),i._hasNonEmptySelection=f.EditorContextKeys.hasNonEmptySelection.bindTo(o),i._canUndo=f.EditorContextKeys.canUndo.bindTo(o),i._canRedo=f.EditorContextKeys.canRedo.bindTo(o),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}return O(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(102)),this._editorReadonly.set(e.get(65))},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},t.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},t}(n.Disposable),A=function(e){function t(t,o){var i=e.call(this)||this;i._editor=t,i._contextKeyService=o,i._langId=f.EditorContextKeys.languageId.bindTo(o),i._hasCompletionItemProvider=f.EditorContextKeys.hasCompletionItemProvider.bindTo(o),i._hasCodeActionsProvider=f.EditorContextKeys.hasCodeActionsProvider.bindTo(o),i._hasCodeLensProvider=f.EditorContextKeys.hasCodeLensProvider.bindTo(o),i._hasDefinitionProvider=f.EditorContextKeys.hasDefinitionProvider.bindTo(o),i._hasDeclarationProvider=f.EditorContextKeys.hasDeclarationProvider.bindTo(o),i._hasImplementationProvider=f.EditorContextKeys.hasImplementationProvider.bindTo(o),i._hasTypeDefinitionProvider=f.EditorContextKeys.hasTypeDefinitionProvider.bindTo(o),i._hasHoverProvider=f.EditorContextKeys.hasHoverProvider.bindTo(o),i._hasDocumentHighlightProvider=f.EditorContextKeys.hasDocumentHighlightProvider.bindTo(o),i._hasDocumentSymbolProvider=f.EditorContextKeys.hasDocumentSymbolProvider.bindTo(o),i._hasReferenceProvider=f.EditorContextKeys.hasReferenceProvider.bindTo(o),i._hasRenameProvider=f.EditorContextKeys.hasRenameProvider.bindTo(o),i._hasSignatureHelpProvider=f.EditorContextKeys.hasSignatureHelpProvider.bindTo(o),i._hasDocumentFormattingProvider=f.EditorContextKeys.hasDocumentFormattingProvider.bindTo(o),i._hasDocumentSelectionFormattingProvider=f.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(o),i._hasMultipleDocumentFormattingProvider=f.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(o),i._hasMultipleDocumentSelectionFormattingProvider=f.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),i._isInWalkThrough=f.EditorContextKeys.isInEmbeddedEditor.bindTo(o);var n=function(){return i._update()};return i._register(t.onDidChangeModel(n)),i._register(t.onDidChangeModelLanguage(n)),i._register(y.CompletionProviderRegistry.onDidChange(n)),i._register(y.CodeActionProviderRegistry.onDidChange(n)),i._register(y.CodeLensProviderRegistry.onDidChange(n)),i._register(y.DefinitionProviderRegistry.onDidChange(n)),i._register(y.DeclarationProviderRegistry.onDidChange(n)),i._register(y.ImplementationProviderRegistry.onDidChange(n)),i._register(y.TypeDefinitionProviderRegistry.onDidChange(n)),i._register(y.HoverProviderRegistry.onDidChange(n)),i._register(y.DocumentHighlightProviderRegistry.onDidChange(n)),i._register(y.DocumentSymbolProviderRegistry.onDidChange(n)),i._register(y.ReferenceProviderRegistry.onDidChange(n)),i._register(y.RenameProviderRegistry.onDidChange(n)),i._register(y.DocumentFormattingEditProviderRegistry.onDidChange(n)),i._register(y.DocumentRangeFormattingEditProviderRegistry.onDidChange(n)),i._register(y.SignatureHelpProviderRegistry.onDidChange(n)),n(),i}return O(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){var e=this;this._contextKeyService.bufferChangeEvents(function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()})},t.prototype._update=function(){var e=this,t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents(function(){e._langId.set(t.getLanguageIdentifier().language),e._hasCompletionItemProvider.set(y.CompletionProviderRegistry.has(t)),e._hasCodeActionsProvider.set(y.CodeActionProviderRegistry.has(t)),e._hasCodeLensProvider.set(y.CodeLensProviderRegistry.has(t)),e._hasDefinitionProvider.set(y.DefinitionProviderRegistry.has(t)),e._hasDeclarationProvider.set(y.DeclarationProviderRegistry.has(t)),e._hasImplementationProvider.set(y.ImplementationProviderRegistry.has(t)),e._hasTypeDefinitionProvider.set(y.TypeDefinitionProviderRegistry.has(t)),e._hasHoverProvider.set(y.HoverProviderRegistry.has(t)),e._hasDocumentHighlightProvider.set(y.DocumentHighlightProviderRegistry.has(t)),e._hasDocumentSymbolProvider.set(y.DocumentSymbolProviderRegistry.has(t)),e._hasReferenceProvider.set(y.ReferenceProviderRegistry.has(t)),e._hasRenameProvider.set(y.RenameProviderRegistry.has(t)),e._hasSignatureHelpProvider.set(y.SignatureHelpProviderRegistry.has(t)),e._hasDocumentFormattingProvider.set(y.DocumentFormattingEditProviderRegistry.has(t)||y.DocumentRangeFormattingEditProviderRegistry.has(t)),e._hasDocumentSelectionFormattingProvider.set(y.DocumentRangeFormattingEditProviderRegistry.has(t)),e._hasMultipleDocumentFormattingProvider.set(y.DocumentFormattingEditProviderRegistry.all(t).length+y.DocumentRangeFormattingEditProviderRegistry.all(t).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(y.DocumentRangeFormattingEditProviderRegistry.all(t).length>1),e._isInWalkThrough.set(t.uri.scheme===r.Schemas.walkThroughSnippet)}):this.reset()},t}(n.Disposable);exports.EditorModeContext=A;var H=function(e){function o(o){var n=e.call(this)||this;return n._onChange=n._register(new i.Emitter),n.onChange=n._onChange.event,n._hasFocus=!1,n._domFocusTracker=n._register(t.trackFocus(o)),n._register(n._domFocusTracker.onDidFocus(function(){n._hasFocus=!0,n._onChange.fire(void 0)})),n._register(n._domFocusTracker.onDidBlur(function(){n._hasFocus=!1,n._onChange.fire(void 0)})),n}return O(o,e),o.prototype.hasFocus=function(){return this._hasFocus},o}(n.Disposable),k=encodeURIComponent(\"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='\"),U=encodeURIComponent(\"'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>\");function B(e){return k+encodeURIComponent(e.toString())+U}var Z=encodeURIComponent('<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"3\" width=\"12\"><g fill=\"'),z=encodeURIComponent('\"><circle cx=\"1\" cy=\"1\" r=\"1\"/><circle cx=\"5\" cy=\"1\" r=\"1\"/><circle cx=\"9\" cy=\"1\" r=\"1\"/></g></svg>');function G(e){return Z+encodeURIComponent(e.toString())+z}(0,M.registerThemingParticipant)(function(e,t){var o=e.getColor(C.editorErrorBorder);o&&t.addRule(\".monaco-editor .squiggly-error { border-bottom: 4px double \"+o+\"; }\");var i=e.getColor(C.editorErrorForeground);i&&t.addRule('.monaco-editor .squiggly-error { background: url(\"data:image/svg+xml,'+B(i)+'\") repeat-x bottom left; }');var n=e.getColor(C.editorWarningBorder);n&&t.addRule(\".monaco-editor .squiggly-warning { border-bottom: 4px double \"+n+\"; }\");var r=e.getColor(C.editorWarningForeground);r&&t.addRule('.monaco-editor .squiggly-warning { background: url(\"data:image/svg+xml,'+B(r)+'\") repeat-x bottom left; }');var s=e.getColor(C.editorInfoBorder);s&&t.addRule(\".monaco-editor .squiggly-info { border-bottom: 4px double \"+s+\"; }\");var a=e.getColor(C.editorInfoForeground);a&&t.addRule('.monaco-editor .squiggly-info { background: url(\"data:image/svg+xml,'+B(a)+'\") repeat-x bottom left; }');var d=e.getColor(C.editorHintBorder);d&&t.addRule(\".monaco-editor .squiggly-hint { border-bottom: 2px dotted \"+d+\"; }\");var l=e.getColor(C.editorHintForeground);l&&t.addRule('.monaco-editor .squiggly-hint { background: url(\"data:image/svg+xml,'+G(l)+'\") no-repeat bottom left; }');var u=e.getColor(D.editorUnnecessaryCodeOpacity);u&&t.addRule(\".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: \"+u.rgba.a+\"; }\");var c=e.getColor(D.editorUnnecessaryCodeBorder);c&&t.addRule(\".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed \"+c+\"; }\");var h=e.getColor(C.editorForeground)||\"inherit\";t.addRule(\".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: \"+h+\"}\")});"},"sourceMaps":null,"error":null,"hash":"3e3c6344cea1825d0f80df245a68bac4","cacheData":{"env":{}}}