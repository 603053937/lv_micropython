{"id":"GdiK","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1608846679099},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1608846679095},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1608846860992},{"name":"./findWidget.css","loc":{"line":18,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.css"},{"name":"../../../nls.js","loc":{"line":19,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/browser/dom.js","loc":{"line":20,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/ui/aria/aria.js","loc":{"line":21,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js"},{"name":"../../../base/browser/ui/checkbox/checkbox.js","loc":{"line":22,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js"},{"name":"../../../base/browser/ui/sash/sash.js","loc":{"line":23,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js"},{"name":"../../../base/browser/ui/widget.js","loc":{"line":24,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/widget.js"},{"name":"../../../base/common/async.js","loc":{"line":25,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/errors.js","loc":{"line":26,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":27,"column":29},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/platform.js","loc":{"line":28,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"../../../base/common/strings.js","loc":{"line":29,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/strings.js"},{"name":"../../common/core/range.js","loc":{"line":30,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"./findModel.js","loc":{"line":31,"column":99},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":32,"column":705},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":33,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/browser/contextScopedHistoryWidget.js","loc":{"line":34,"column":66},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/browser/contextScopedHistoryWidget.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SimpleButton=exports.FindWidget=exports.FindWidgetViewZone=void 0,require(\"./findWidget.css\");var e=m(require(\"../../../nls.js\")),t=m(require(\"../../../base/browser/dom.js\")),i=require(\"../../../base/browser/ui/aria/aria.js\"),o=require(\"../../../base/browser/ui/checkbox/checkbox.js\"),n=require(\"../../../base/browser/ui/sash/sash.js\"),r=require(\"../../../base/browser/ui/widget.js\"),s=require(\"../../../base/common/async.js\"),a=require(\"../../../base/common/errors.js\"),d=require(\"../../../base/common/lifecycle.js\"),l=m(require(\"../../../base/common/platform.js\")),c=m(require(\"../../../base/common/strings.js\")),h=require(\"../../common/core/range.js\"),u=require(\"./findModel.js\"),p=require(\"../../../platform/theme/common/colorRegistry.js\"),_=require(\"../../../platform/theme/common/themeService.js\"),g=require(\"../../../platform/browser/contextScopedHistoryWidget.js\");function f(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=o?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}var v=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),b=e.localize(\"label.find\",\"Find\"),I=e.localize(\"placeholder.find\",\"Find\"),y=e.localize(\"label.previousMatchButton\",\"Previous match\"),C=e.localize(\"label.nextMatchButton\",\"Next match\"),w=e.localize(\"label.toggleSelectionFind\",\"Find in selection\"),S=e.localize(\"label.closeButton\",\"Close\"),N=e.localize(\"label.replace\",\"Replace\"),x=e.localize(\"placeholder.replace\",\"Replace\"),E=e.localize(\"label.replaceButton\",\"Replace\"),B=e.localize(\"label.replaceAllButton\",\"Replace All\"),R=e.localize(\"label.toggleReplaceButton\",\"Toggle Replace mode\"),F=e.localize(\"title.matchesCountLimit\",\"Only the first {0} results are highlighted, but all find operations work on the entire text.\",u.MATCHES_LIMIT),V=e.localize(\"label.matchesLocation\",\"{0} of {1}\"),D=e.localize(\"label.noResults\",\"No Results\"),T=419,W=275,k=W-54,O=69,L=33,M=\"ctrlEnterReplaceAll.windows.donotask\",P=l.isMacintosh?256:2048,Z=function(){return function(e){this.afterLineNumber=e,this.heightInPx=L,this.suppressMouseDown=!1,this.domNode=document.createElement(\"div\"),this.domNode.className=\"dock-find-viewzone\"}}();function A(e,t,i){var o=!!t.match(/\\n/);i&&o&&i.selectionStart>0&&e.stopPropagation()}function H(e,t,i){var o=!!t.match(/\\n/);i&&o&&i.selectionEnd<i.value.length&&e.stopPropagation()}exports.FindWidgetViewZone=Z;var q=function(r){function _(e,i,o,n,a,l,c,h,p){var _=r.call(this)||this;return _._cachedHeight=null,_._codeEditor=e,_._controller=i,_._state=o,_._contextViewProvider=n,_._keybindingService=a,_._contextKeyService=l,_._storageService=h,_._notificationService=p,_._ctrlEnterReplaceAllWarningPrompted=!!h.getBoolean(M,0),_._isVisible=!1,_._isReplaceVisible=!1,_._ignoreChangeEvent=!1,_._updateHistoryDelayer=new s.Delayer(500),_._register((0,d.toDisposable)(function(){return _._updateHistoryDelayer.cancel()})),_._register(_._state.onFindReplaceStateChange(function(e){return _._onStateChanged(e)})),_._buildDomNode(),_._updateButtons(),_._tryUpdateWidgetWidth(),_._findInput.inputBox.layout(),_._register(_._codeEditor.onDidChangeConfiguration(function(e){if(e.hasChanged(65)&&(_._codeEditor.getOption(65)&&_._state.change({isReplaceRevealed:!1},!1),_._updateButtons()),e.hasChanged(103)&&_._tryUpdateWidgetWidth(),e.hasChanged(2)&&_.updateAccessibilitySupport(),e.hasChanged(27)){var t=_._codeEditor.getOption(27).addExtraSpaceOnTop;t&&!_._viewZone&&(_._viewZone=new Z(0),_._showViewZone()),!t&&_._viewZone&&_._removeViewZone()}})),_.updateAccessibilitySupport(),_._register(_._codeEditor.onDidChangeCursorSelection(function(){_._isVisible&&_._updateToggleSelectionFindButton()})),_._register(_._codeEditor.onDidFocusEditorWidget(function(){if(_._isVisible){var e=_._controller.getGlobalBufferTerm();e&&e!==_._state.searchString&&(_._state.change({searchString:e},!0),_._findInput.select())}})),_._findInputFocused=u.CONTEXT_FIND_INPUT_FOCUSED.bindTo(l),_._findFocusTracker=_._register(t.trackFocus(_._findInput.inputBox.inputElement)),_._register(_._findFocusTracker.onDidFocus(function(){_._findInputFocused.set(!0),_._updateSearchScope()})),_._register(_._findFocusTracker.onDidBlur(function(){_._findInputFocused.set(!1)})),_._replaceInputFocused=u.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(l),_._replaceFocusTracker=_._register(t.trackFocus(_._replaceInput.inputBox.inputElement)),_._register(_._replaceFocusTracker.onDidFocus(function(){_._replaceInputFocused.set(!0),_._updateSearchScope()})),_._register(_._replaceFocusTracker.onDidBlur(function(){_._replaceInputFocused.set(!1)})),_._codeEditor.addOverlayWidget(_),_._codeEditor.getOption(27).addExtraSpaceOnTop&&(_._viewZone=new Z(0)),_._applyTheme(c.getTheme()),_._register(c.onThemeChange(_._applyTheme.bind(_))),_._register(_._codeEditor.onDidChangeModel(function(){_._isVisible&&(_._viewZoneId=void 0)})),_._register(_._codeEditor.onDidScrollChange(function(e){e.scrollTopChanged?_._layoutViewZone():setTimeout(function(){_._layoutViewZone()},0)})),_}return v(_,r),_.prototype.getId=function(){return _.ID},_.prototype.getDomNode=function(){return this._domNode},_.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},_.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(65)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=t.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var i=this._state.searchString.length>0&&0===this._state.matchesCount;t.toggleClass(this._domNode,\"no-results\",i),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},_.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},_.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},_.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=O+\"px\",this._state.matchesCount>=u.MATCHES_LIMIT?this._matchesCount.title=F:this._matchesCount.title=\"\",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=u.MATCHES_LIMIT&&(t+=\"+\");var o=String(this._state.matchesPosition);\"0\"===o&&(o=\"?\"),e=c.format(V,o,t)}else e=D;this._matchesCount.appendChild(document.createTextNode(e)),(0,i.alert)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString),!0),O=Math.max(O,this._matchesCount.clientWidth)},_.prototype._getAriaLabel=function(t,i,o){return t===D?\"\"===o?e.localize(\"ariaSearchNoResultEmpty\",\"{0} found\",t):e.localize(\"ariaSearchNoResult\",\"{0} found for {1}\",t,o):i?e.localize(\"ariaSearchNoResultWithLineNum\",\"{0} found for {1} at {2}\",t,o,i.startLineNumber+\":\"+i.startColumn):e.localize(\"ariaSearchNoResultWithLineNumNoCurrentMatch\",\"{0} found for {1}\",t,o)},_.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},_.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,i=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&i),this._nextBtn.setEnabled(this._isVisible&&e&&i),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),t.toggleClass(this._domNode,\"replaceToggled\",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass(\"codicon-chevron-right\",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass(\"codicon-chevron-down\",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var o=!this._codeEditor.getOption(65);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)},_.prototype._reveal=function(){var e=this;if(!this._isVisible){this._isVisible=!0;var i=this._codeEditor.getSelection();switch(this._codeEditor.getOption(27).autoFindInSelection){case\"always\":this._toggleSelectionFind.checked=!0;break;case\"never\":this._toggleSelectionFind.checked=!1;break;case\"multiline\":var o=!!i&&i.startLineNumber!==i.endLineNumber;this._toggleSelectionFind.checked=o}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){t.addClass(e._domNode,\"visible\"),e._domNode.setAttribute(\"aria-hidden\",\"false\")},0),setTimeout(function(){e._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var n=!0;if(this._codeEditor.getOption(27).seedSearchStringFromSelection&&i){var r=this._codeEditor.getDomNode();if(r){var s=t.getDomNodePagePosition(r),a=this._codeEditor.getScrolledVisiblePosition(i.getStartPosition()),d=s.left+(a?a.left:0),l=a?a.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){i.endLineNumber>i.startLineNumber&&(n=!1);var c=t.getTopLeftOffset(this._domNode).left;d>c&&(n=!1);var h=this._codeEditor.getScrolledVisiblePosition(i.getEndPosition());s.left+(h?h.left:0)>c&&(n=!1)}}}this._showViewZone(n)}},_.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),t.removeClass(this._domNode,\"visible\"),this._domNode.setAttribute(\"aria-hidden\",\"true\"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},_.prototype._layoutViewZone=function(){var e=this;if(this._codeEditor.getOption(27).addExtraSpaceOnTop){if(this._isVisible){var t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones(function(i){t.heightInPx=e._getHeight(),e._viewZoneId=i.addZone(t),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+t.heightInPx)})}}else this._removeViewZone()},_.prototype._showViewZone=function(e){var t=this;if((void 0===e&&(e=!0),this._isVisible)&&this._codeEditor.getOption(27).addExtraSpaceOnTop){void 0===this._viewZone&&(this._viewZone=new Z(0));var i=this._viewZone;this._codeEditor.changeViewZones(function(o){if(void 0!==t._viewZoneId){var n=t._getHeight();if(n===i.heightInPx)return;var r=n-i.heightInPx;return i.heightInPx=n,o.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r))}r=t._getHeight();i.heightInPx=r,t._viewZoneId=o.addZone(i),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r)})}},_.prototype._removeViewZone=function(){var e=this;this._codeEditor.changeViewZones(function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))})},_.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(p.inputActiveOptionBorder),inputActiveOptionBackground:e.getColor(p.inputActiveOptionBackground),inputBackground:e.getColor(p.inputBackground),inputForeground:e.getColor(p.inputForeground),inputBorder:e.getColor(p.inputBorder),inputValidationInfoBackground:e.getColor(p.inputValidationInfoBackground),inputValidationInfoForeground:e.getColor(p.inputValidationInfoForeground),inputValidationInfoBorder:e.getColor(p.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(p.inputValidationWarningBackground),inputValidationWarningForeground:e.getColor(p.inputValidationWarningForeground),inputValidationWarningBorder:e.getColor(p.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(p.inputValidationErrorBackground),inputValidationErrorForeground:e.getColor(p.inputValidationErrorForeground),inputValidationErrorBorder:e.getColor(p.inputValidationErrorBorder)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)},_.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&t.isInDOM(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)t.addClass(this._domNode,\"hiddenEditor\");else{t.hasClass(this._domNode,\"hiddenEditor\")&&t.removeClass(this._domNode,\"hiddenEditor\");var i=e.width,o=e.minimapWidth,n=!1,r=!1,s=!1;if(this._resized)if(t.getTotalWidth(this._domNode)>T)return this._domNode.style.maxWidth=i-28-o-15+\"px\",void(this._replaceInput.width=t.getTotalWidth(this._findInput.domNode));if(T+28+o>=i&&(r=!0),T+28+o-O>=i&&(s=!0),T+28+o-O>=i+50&&(n=!0),t.toggleClass(this._domNode,\"collapsed-find-widget\",n),t.toggleClass(this._domNode,\"narrow-find-widget\",s),t.toggleClass(this._domNode,\"reduced-find-widget\",r),s||n||(this._domNode.style.maxWidth=i-28-o-15+\"px\"),this._resized){this._findInput.inputBox.layout();var a=this._findInput.inputBox.element.clientWidth;a>0&&(this._replaceInput.width=a)}else this._isReplaceVisible&&(this._replaceInput.width=t.getTotalWidth(this._findInput.domNode))}}},_.prototype._getHeight=function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4},_.prototype._tryUpdateHeight=function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+\"px\",!0)},_.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},_.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},_.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},_.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(h.Range.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},_.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},_.prototype._onFindInputKeyDown=function(e){return e.equals(3|P)?(this._findInput.inputBox.insertAtCursor(\"\\n\"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?A(e,this._findInput.getValue(),this._findInput.domNode.querySelector(\"textarea\")):e.equals(18)?H(e,this._findInput.getValue(),this._findInput.domNode.querySelector(\"textarea\")):void 0},_.prototype._onReplaceInputKeyDown=function(t){return t.equals(3|P)?(l.isWindows&&l.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(e.localize(\"ctrlEnter.keybindingChanged\",\"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.\")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(M,!0,0)),this._replaceInput.inputBox.insertAtCursor(\"\\n\"),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?A(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector(\"textarea\")):t.equals(18)?H(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector(\"textarea\")):void 0},_.prototype.getHorizontalSashTop=function(e){return 0},_.prototype.getHorizontalSashLeft=function(e){return 0},_.prototype.getHorizontalSashWidth=function(e){return 500},_.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?\" (\"+t.getLabel()+\")\":\"\"},_.prototype._buildDomNode=function(){var e=this;this._findInput=this._register(new g.ContextScopedFindInput(null,this._contextViewProvider,{width:k,label:b,placeholder:I,appendCaseSensitiveLabel:this._keybindingLabelFor(u.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(u.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(u.FIND_IDS.ToggleRegexCommand),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(i){return{content:i.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.inputBox.onDidChange(function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(t){e._tryUpdateHeight()&&e._showViewZone()})),l.isLinux&&this._register(this._findInput.onMouseDown(function(t){return e._onFindInputMouseDown(t)})),this._matchesCount=document.createElement(\"div\"),this._matchesCount.className=\"matchesCount\",this._updateMatchesCount(),this._prevBtn=this._register(new z({label:y+this._keybindingLabelFor(u.FIND_IDS.PreviousMatchFindAction),className:\"codicon codicon-arrow-up\",onTrigger:function(){e._codeEditor.getAction(u.FIND_IDS.PreviousMatchFindAction).run().then(void 0,a.onUnexpectedError)}})),this._nextBtn=this._register(new z({label:C+this._keybindingLabelFor(u.FIND_IDS.NextMatchFindAction),className:\"codicon codicon-arrow-down\",onTrigger:function(){e._codeEditor.getAction(u.FIND_IDS.NextMatchFindAction).run().then(void 0,a.onUnexpectedError)}}));var i=document.createElement(\"div\");i.className=\"find-part\",i.appendChild(this._findInput.domNode);var r=document.createElement(\"div\");r.className=\"find-actions\",i.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new o.Checkbox({actionClassName:\"codicon codicon-selection\",title:w+this._keybindingLabelFor(u.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)})),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new z({label:S+this._keybindingLabelFor(u.FIND_IDS.CloseFindWidgetCommand),className:\"codicon codicon-close\",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),r.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new g.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:x,history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(t){return e._onReplaceInputKeyDown(t)})),this._register(this._replaceInput.inputBox.onDidChange(function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())})),this._replaceBtn=this._register(new z({label:E+this._keybindingLabelFor(u.FIND_IDS.ReplaceOneAction),className:\"codicon codicon-replace\",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new z({label:B+this._keybindingLabelFor(u.FIND_IDS.ReplaceAllAction),className:\"codicon codicon-replace-all\",onTrigger:function(){e._controller.replaceAll()}}));var s=document.createElement(\"div\");s.className=\"replace-part\",s.appendChild(this._replaceInput.domNode);var d=document.createElement(\"div\");d.className=\"replace-actions\",s.appendChild(d),d.appendChild(this._replaceBtn.domNode),d.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new z({label:R,className:\"codicon toggle left\",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=t.getTotalWidth(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass(\"codicon-chevron-down\",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass(\"codicon-chevron-right\",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement(\"div\"),this._domNode.className=\"editor-widget find-widget\",this._domNode.setAttribute(\"aria-hidden\",\"true\"),this._domNode.style.width=T+\"px\",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(s),this._resizeSash=new n.Sash(this._domNode,this,{orientation:0}),this._resized=!1;var c=T;this._register(this._resizeSash.onDidStart(function(){c=t.getTotalWidth(e._domNode)})),this._register(this._resizeSash.onDidChange(function(i){e._resized=!0;var o=c+i.startX-i.currentX;o<T||(o>(parseFloat(t.getComputedStyle(e._domNode).maxWidth)||0)||(e._domNode.style.width=o+\"px\",e._isReplaceVisible&&(e._replaceInput.width=t.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))})),this._register(this._resizeSash.onDidReset(function(){var i=t.getTotalWidth(e._domNode);if(!(i<T)){var o=T;if(!e._resized||i===T){var n=e._codeEditor.getLayoutInfo();o=n.width-28-n.minimapWidth-15,e._resized=!0}e._domNode.style.width=o+\"px\",e._isReplaceVisible&&(e._replaceInput.width=t.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout()}}))},_.prototype.updateAccessibilitySupport=function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)},_.ID=\"editor.contrib.findWidget\",_}(r.Widget);exports.FindWidget=q;var z=function(e){function i(t){var i=e.call(this)||this;return i._opts=t,i._domNode=document.createElement(\"div\"),i._domNode.title=i._opts.label,i._domNode.tabIndex=0,i._domNode.className=\"button \"+i._opts.className,i._domNode.setAttribute(\"role\",\"button\"),i._domNode.setAttribute(\"aria-label\",i._opts.label),i.onclick(i._domNode,function(e){i._opts.onTrigger(),e.preventDefault()}),i.onkeydown(i._domNode,function(e){if(e.equals(10)||e.equals(3))return i._opts.onTrigger(),void e.preventDefault();i._opts.onKeyDown&&i._opts.onKeyDown(e)}),i}return v(i,e),Object.defineProperty(i.prototype,\"domNode\",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),i.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},i.prototype.focus=function(){this._domNode.focus()},i.prototype.setEnabled=function(e){t.toggleClass(this._domNode,\"disabled\",!e),this._domNode.setAttribute(\"aria-disabled\",String(!e)),this._domNode.tabIndex=e?0:-1},i.prototype.setExpanded=function(e){this._domNode.setAttribute(\"aria-expanded\",String(!!e))},i.prototype.toggleClass=function(e,i){t.toggleClass(this._domNode,e,i)},i}(r.Widget);exports.SimpleButton=z,(0,_.registerThemingParticipant)(function(e,t){var i=function(e,i){i&&t.addRule(\".monaco-editor \"+e+\" { background-color: \"+i+\"; }\")};i(\".findMatch\",e.getColor(p.editorFindMatchHighlight)),i(\".currentFindMatch\",e.getColor(p.editorFindMatch)),i(\".findScope\",e.getColor(p.editorFindRangeHighlight)),i(\".find-widget\",e.getColor(p.editorWidgetBackground));var o=e.getColor(p.widgetShadow);o&&t.addRule(\".monaco-editor .find-widget { box-shadow: 0 2px 8px \"+o+\"; }\");var n=e.getColor(p.editorFindMatchHighlightBorder);n&&t.addRule(\".monaco-editor .findMatch { border: 1px \"+(\"hc\"===e.type?\"dotted\":\"solid\")+\" \"+n+\"; box-sizing: border-box; }\");var r=e.getColor(p.editorFindMatchBorder);r&&t.addRule(\".monaco-editor .currentFindMatch { border: 2px solid \"+r+\"; padding: 1px; box-sizing: border-box; }\");var s=e.getColor(p.editorFindRangeHighlightBorder);s&&t.addRule(\".monaco-editor .findScope { border: 1px \"+(\"hc\"===e.type?\"dashed\":\"solid\")+\" \"+s+\"; }\");var a=e.getColor(p.contrastBorder);a&&t.addRule(\".monaco-editor .find-widget { border: 1px solid \"+a+\"; }\");var d=e.getColor(p.editorWidgetForeground);d&&t.addRule(\".monaco-editor .find-widget { color: \"+d+\"; }\");var l=e.getColor(p.errorForeground);l&&t.addRule(\".monaco-editor .find-widget.no-results .matchesCount { color: \"+l+\"; }\");var c=e.getColor(p.editorWidgetResizeBorder);if(c)t.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \"+c+\"; width: 3px !important; margin-left: -4px;}\");else{var h=e.getColor(p.editorWidgetBorder);h&&t.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \"+h+\"; width: 3px !important; margin-left: -4px;}\")}var u=e.getColor(p.focusBorder);u&&t.addRule(\".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: \"+u+\"; }\")});"},"sourceMaps":null,"error":null,"hash":"e17425c5507363b4e152a82a8aca944f","cacheData":{"env":{}}}